<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>auth.SRA_Authenticator - sierra-php v1.1.3</title>
<script type="text/javascript">
<!--
var _qsAbortNext = false;
var _tipsIdx = 0;
var _tipIds;

function clearQsTips() {
  document.getElementById('quicksearch_tips').innerHTML = '';
}
function hideQsTips() {
  setTimeout("document.getElementById('quicksearch_tips').style.display = 'none'", 100);
}
function showQsTips() {
  document.getElementById('quicksearch_tips').style.display = '';
}
function qsTipsVisible() {
  return document.getElementById('quicksearch_tips').style.display != 'none';
}
function updateQsTips(evt) {
  if (qsTipsVisible() && evt && (evt.keyCode == 40 || evt.keyCode == 38 || evt.keyCode == 13)) {
    switch(evt.keyCode) {
      // up
      case 38:
      // down
      case 40:
        if (_tipsIdx >= 0) document.getElementById(_tipIds[_tipsIdx]).style.backgroundColor = '';
        evt.keyCode == 38 ? _tipsIdx-- : _tipsIdx++;
        if (_tipsIdx > _tipIds.length) _tipsIdx = 0;
        if (_tipsIdx < 0) _tipsIdx = _tipIds.length - 1;
        if (_tipsIdx >= 0) document.getElementById(_tipIds[_tipsIdx]).style.backgroundColor = '#ddd';
        break;
      // enter
      case 13:
        if (_tipsIdx >= 0 && _tipIds[_tipsIdx]) {
          document.location.replace('#' + _tipIds[_tipsIdx].substr(3));
        }
        break;
    }
    return;
  }
  
  _tipsIdx = -1;
  _tipIds = [];
  var str = document.getElementById('quicksearch').value.toLowerCase();
  var matches = {}
  var match = false;
  
  if (str) {
  // check constants
  if ("sra_authenticator_attr_user".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_ATTR_USER'] = "SRA_AUTHENTICATOR_ATTR_USER";
  }
  if ("sra_authenticator_status_success".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_STATUS_SUCCESS'] = "SRA_AUTHENTICATOR_STATUS_SUCCESS";
  }
  if ("sra_authenticator_status_failed".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_STATUS_FAILED'] = "SRA_AUTHENTICATOR_STATUS_FAILED";
  }
  if ("sra_authenticator_status_invalid_pswd".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_STATUS_INVALID_PSWD'] = "SRA_AUTHENTICATOR_STATUS_INVALID_PSWD";
  }
  if ("sra_authenticator_status_invalid_user".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_STATUS_INVALID_USER'] = "SRA_AUTHENTICATOR_STATUS_INVALID_USER";
  }
  if ("sra_authenticator_status_invalid_attrs".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_STATUS_INVALID_ATTRS'] = "SRA_AUTHENTICATOR_STATUS_INVALID_ATTRS";
  }
  if ("sra_authenticator_status_error".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_STATUS_ERROR'] = "SRA_AUTHENTICATOR_STATUS_ERROR";
  }
  if ("sra_authenticator_default_timeout".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_DEFAULT_TIMEOUT'] = "SRA_AUTHENTICATOR_DEFAULT_TIMEOUT";
  }
  if ("sra_authenticator_file_prefix".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_FILE_PREFIX'] = "SRA_AUTHENTICATOR_FILE_PREFIX";
  }
  if ("sra_authenticator_logout_cookie".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_LOGOUT_COOKIE'] = "SRA_AUTHENTICATOR_LOGOUT_COOKIE";
  }
  if ("sra_authenticator_logout_file_prefix".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_LOGOUT_FILE_PREFIX'] = "SRA_AUTHENTICATOR_LOGOUT_FILE_PREFIX";
  }
  if ("sra_authenticator_logout_fwd_var".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_LOGOUT_FWD_VAR'] = "SRA_AUTHENTICATOR_LOGOUT_FWD_VAR";
  }
  if ("sra_authenticator_debug".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_DEBUG'] = "SRA_AUTHENTICATOR_DEBUG";
  }
  if ("sra_authenticator_debug_file".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_AUTHENTICATOR_DEBUG_FILE'] = "SRA_AUTHENTICATOR_DEBUG_FILE";
  }

  // check attributes
  if ("attrs".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_attrs'] = "attrs";
  }
  if ("unmatchedattr".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_unmatchedAttr'] = "unmatchedAttr";
  }
  if ("errmsg".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_errMsg'] = "errMsg";
  }
  if ("status".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_status'] = "status";
  }
  if ("_id".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__id'] = "_id";
  }
  if ("_accesslog".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__accessLog'] = "_accessLog";
  }
  if ("_attemptcount".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__attemptCount'] = "_attemptCount";
  }
  if ("_canceltpl".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__cancelTpl'] = "_cancelTpl";
  }
  if ("_consoleprompted".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__consolePrompted'] = "_consolePrompted";
  }
  if ("_entitytype".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__entityType'] = "_entityType";
  }
  if ("_exceededmaxloginattemptcount".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__exceededMaxLoginAttemptCount'] = "_exceededMaxLoginAttemptCount";
  }
  if ("_failurelog".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__failureLog'] = "_failureLog";
  }
  if ("_globalvar".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__globalVar'] = "_globalVar";
  }
  if ("_logoutfwduri".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__logoutFwdUri'] = "_logoutFwdUri";
  }
  if ("_logoutgetvar".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__logoutGetVar'] = "_logoutGetVar";
  }
  if ("_logoutpostvar".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__logoutPostVar'] = "_logoutPostVar";
  }
  if ("_logouttpl".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__logoutTpl'] = "_logoutTpl";
  }
  if ("_matchallattrs".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__matchAllAttrs'] = "_matchAllAttrs";
  }
  if ("_matchoneattrs".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__matchOneAttrs'] = "_matchOneAttrs";
  }
  if ("_matchfailtpl".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__matchFailTpl'] = "_matchFailTpl";
  }
  if ("_maxattempts".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__maxAttempts'] = "_maxAttempts";
  }
  if ("_maxattempttpl".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__maxAttemptTpl'] = "_maxAttemptTpl";
  }
  if ("_maxattemptip".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__maxAttemptIp'] = "_maxAttemptIp";
  }
  if ("_maxattempttimeout".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__maxAttemptTimeout'] = "_maxAttemptTimeout";
  }
  if ("_pswd".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__pswd'] = "_pswd";
  }
  if ("_syserrtpl".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__sysErrTpl'] = "_sysErrTpl";
  }
  if ("_tplvar".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__tplVar'] = "_tplVar";
  }
  if ("_user".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__user'] = "_user";
  }
  if ("_usesessions".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__useSessions'] = "_useSessions";
  }
  if ("_params".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__params'] = "_params";
  }
  if ("_resource".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__resource'] = "_resource";
  }
  if ("_userentity".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__userEntity'] = "_userEntity";
  }
  if ("_written".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__written'] = "_written";
  }

  // check methods
  if ("checkforlogout".indexOf(str) != -1) {
    match = true;
    matches['qs_method_checkForLogout'] = "checkForLogout";
  }
  if ("logout".indexOf(str) != -1) {
    match = true;
    matches['qs_method_logout'] = "logout";
  }
  if ("authenticate".indexOf(str) != -1) {
    match = true;
    matches['qs_method_authenticate'] = "authenticate";
  }
  if ("promptconsole".indexOf(str) != -1) {
    match = true;
    matches['qs_method_promptConsole'] = "promptConsole";
  }
  if ("getuserid".indexOf(str) != -1) {
    match = true;
    matches['qs_method_getUserId'] = "getUserId";
  }
  if ("matchattribute".indexOf(str) != -1) {
    match = true;
    matches['qs_method_matchAttribute'] = "matchAttribute";
  }
  if ("isvalid".indexOf(str) != -1) {
    match = true;
    matches['qs_method_isValid'] = "isValid";
  }
  if ("tostring".indexOf(str) != -1) {
    match = true;
    matches['qs_method_toString'] = "toString";
  }
  if ("_authenticate".indexOf(str) != -1) {
    match = true;
    matches['qs_method__authenticate'] = "_authenticate";
  }
  if ("_completeauth".indexOf(str) != -1) {
    match = true;
    matches['qs_method__completeAuth'] = "_completeAuth";
  }
  if ("_completeauthlogmessage".indexOf(str) != -1) {
    match = true;
    matches['qs_method__completeAuthLogMessage'] = "_completeAuthLogMessage";
  }
  if ("_displaylogindialog".indexOf(str) != -1) {
    match = true;
    matches['qs_method__displayLoginDialog'] = "_displayLoginDialog";
  }
  if ("_evalrestrictaccesscond".indexOf(str) != -1) {
    match = true;
    matches['qs_method__evalRestrictAccessCond'] = "_evalRestrictAccessCond";
  }
  if ("_getauthenticator".indexOf(str) != -1) {
    match = true;
    matches['qs_method__getAuthenticator'] = "_getAuthenticator";
  }
  if ("_getcachefilename".indexOf(str) != -1) {
    match = true;
    matches['qs_method__getCacheFileName'] = "_getCacheFileName";
  }
  if ("_getcachefileprefix".indexOf(str) != -1) {
    match = true;
    matches['qs_method__getCacheFilePrefix'] = "_getCacheFilePrefix";
  }
  if ("_getfromcache".indexOf(str) != -1) {
    match = true;
    matches['qs_method__getFromCache'] = "_getFromCache";
  }
  if ("_getloginattemptcount".indexOf(str) != -1) {
    match = true;
    matches['qs_method__getLoginAttemptCount'] = "_getLoginAttemptCount";
  }
  if ("_getlogoutfile".indexOf(str) != -1) {
    match = true;
    matches['qs_method__getLogoutFile'] = "_getLogoutFile";
  }
  if ("_getuservariable".indexOf(str) != -1) {
    match = true;
    matches['qs_method__getUserVariable'] = "_getUserVariable";
  }
  if ("_killsession".indexOf(str) != -1) {
    match = true;
    matches['qs_method__killSession'] = "_killSession";
  }
  if ("_logoutfileexists".indexOf(str) != -1) {
    match = true;
    matches['qs_method__logoutFileExists'] = "_logoutFileExists";
  }
  if ("_matchattributes".indexOf(str) != -1) {
    match = true;
    matches['qs_method__matchAttributes'] = "_matchAttributes";
  }
  if ("_removefromcache".indexOf(str) != -1) {
    match = true;
    matches['qs_method__removeFromCache'] = "_removeFromCache";
  }
  if ("_updateloginattempts".indexOf(str) != -1) {
    match = true;
    matches['qs_method__updateLoginAttempts'] = "_updateLoginAttempts";
  }
  if ("_writetocache".indexOf(str) != -1) {
    match = true;
    matches['qs_method__writeToCache'] = "_writeToCache";
  }

  // check classes
  if ("sra_workflow".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_Workflow'] = "SRA_Workflow";
  }
  if ("sra_workflowconstraint".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowConstraint'] = "SRA_WorkflowConstraint";
  }
  if ("sra_workflowconstraintgroup".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowConstraintGroup'] = "SRA_WorkflowConstraintGroup";
  }
  if ("sra_workflowdecision".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowDecision'] = "SRA_WorkflowDecision";
  }
  if ("sra_workflowmanager".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowManager'] = "SRA_WorkflowManager";
  }
  if ("sra_workflowstep".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowStep'] = "SRA_WorkflowStep";
  }
  if ("sra_workflowtask".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowTask'] = "SRA_WorkflowTask";
  }


  // check dtds
  if ("workflow.dtd".indexOf(str) != -1) {
    match = true;
    matches['qs_dtd_workflow.dtd'] = "workflow.dtd";
  }

  // check packages
  if ("etc".indexOf(str) != -1) {
    match = true;
    matches['qs_package_etc'] = "etc";
  }
  if ("etc.l10n".indexOf(str) != -1) {
    match = true;
    matches['qs_package_etc.l10n'] = "etc.l10n";
  }
  if ("auth".indexOf(str) != -1) {
    match = true;
    matches['qs_package_auth'] = "auth";
  }
  if ("core".indexOf(str) != -1) {
    match = true;
    matches['qs_package_core'] = "core";
  }
  if ("model".indexOf(str) != -1) {
    match = true;
    matches['qs_package_model'] = "model";
  }
  if ("sql".indexOf(str) != -1) {
    match = true;
    matches['qs_package_sql'] = "sql";
  }
  if ("test".indexOf(str) != -1) {
    match = true;
    matches['qs_package_test'] = "test";
  }
  if ("util".indexOf(str) != -1) {
    match = true;
    matches['qs_package_util'] = "util";
  }
  if ("util.installer".indexOf(str) != -1) {
    match = true;
    matches['qs_package_util.installer'] = "util.installer";
  }
  if ("util.l10n".indexOf(str) != -1) {
    match = true;
    matches['qs_package_util.l10n'] = "util.l10n";
  }
  if ("workflow".indexOf(str) != -1) {
    match = true;
    matches['qs_package_workflow'] = "workflow";
  }


  }
  
  if (match) {
    var html = '';
    for(var i in matches) {
      _tipIds.push(i);
      html += '<div id="' + i + '" style="background-color: white; cursor: pointer;" onclick="document.location.replace(\'#\' + this.id.substr(3))">' + matches[i] + '</div>\n';
    }
    document.getElementById('quicksearch_tips').innerHTML = html;
    showQsTips();
  }
  else {
    hideQsTips();
  }
}
-->
</script></head>
<body id="class" onload="document.getElementById('quicksearch').onkeyup = updateQsTips; document.getElementById('quicksearch').focus()">
  <h1 id="top">class SRA_Authenticator</h1>
<p>&nbsp;&nbsp;&nbsp;&nbsp;package <a href="../packages/auth.html" target="contentFrame">auth</a></p>  <h2>Known Direct Subclasses</h2>
<a href="auth.SRA_DbAuthenticator.html" target="contentFrame">SRA_DbAuthenticator</a>, <a href="auth.SRA_LdapAuthenticator.html" target="contentFrame">SRA_LdapAuthenticator</a>, <a href="auth.SRA_OsAuthenticator.html" target="contentFrame">SRA_OsAuthenticator</a>, <a href="auth.SRA_Pop3Authenticator.html" target="contentFrame">SRA_Pop3Authenticator</a>  <hr />
  <form onsubmit="return false">
  
  <div style="float:right">
    <b><label for="quicksearch">Quick Search:</label></b><br />
    <input id="quicksearch" type="text" onfocus="clearQsTips()" onblur="hideQsTips()" autocomplete="off" onclick="this.select()" /><br />
    <div id="quicksearch_tips" style="border: 1px solid #333; position:absolute; display:none"></div>
  </div>
  
  <pre>class SRA_Authenticator</pre>
  
  <h2>Class Information</h2>
  <ul>
    <li><a href="#comments">Class Comments</a></li>
    <li><a href="#constants">Constants</a></li>
    <li><a href="#constant_details">Constant Details</a></li>
    <li><a href="#attrs">Attributes</a></li>
    <li><a href="#attr_details">Attribute Details</a></li>
    <li><a href="#methods">Methods</a></li>
    <li><a href="#method_details">Method Details</a></li>
    <li><a href="#other">Other</a></li>
  </ul>
  
  <h2 id="comments">Comment</h2>
  <pre> Abstract class defining the API that should be adhered to by any SIERRA
  SRA_Authenticator.
 
</pre>
  
  <h2 id="constants">Class Constants</h2>
  <table border="1" width="100%">
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_ATTR_USER">SRA_AUTHENTICATOR_ATTR_USER</a></pre>
<pre> the attribute key under which the username will be stored in the &#039;attrs&#039; attribute
</pre>      </td>
    </tr>
    <tr>
      <td><pre>int </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_STATUS_SUCCESS">SRA_AUTHENTICATOR_STATUS_SUCCESS</a></pre>
<pre> status code signifying that the user was authenticated successfully
</pre>      </td>
    </tr>
    <tr>
      <td><pre>int </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_STATUS_FAILED">SRA_AUTHENTICATOR_STATUS_FAILED</a></pre>
<pre> status code signifying that the user authentication failed (but a more
  specific reason is not known). this is the default status code.
</pre>      </td>
    </tr>
    <tr>
      <td><pre>int </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_STATUS_INVALID_PSWD">SRA_AUTHENTICATOR_STATUS_INVALID_PSWD</a></pre>
<pre> status code signifying that the user authentication failed because the password
  specified is not valid (the user is valid)
</pre>      </td>
    </tr>
    <tr>
      <td><pre>int </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_STATUS_INVALID_USER">SRA_AUTHENTICATOR_STATUS_INVALID_USER</a></pre>
<pre> status code signifying that the user authentication failed because the username
  specified is not valid
</pre>      </td>
    </tr>
    <tr>
      <td><pre>int </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_STATUS_INVALID_ATTRS">SRA_AUTHENTICATOR_STATUS_INVALID_ATTRS</a></pre>
<pre> status code signifying that the user authentication was successful, but the
  user attribute validation failed
</pre>      </td>
    </tr>
    <tr>
      <td><pre>int </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_STATUS_ERROR">SRA_AUTHENTICATOR_STATUS_ERROR</a></pre>
<pre> status code signifying that the user authentication failed due to a system error
</pre>      </td>
    </tr>
    <tr>
      <td><pre>int </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_DEFAULT_TIMEOUT">SRA_AUTHENTICATOR_DEFAULT_TIMEOUT</a></pre>
<pre> the default timeout value where access tracking is performed based on IP
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_FILE_PREFIX">SRA_AUTHENTICATOR_FILE_PREFIX</a></pre>
<pre> file prefix for storing authenticator cache files and login counts in a file
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_LOGOUT_COOKIE">SRA_AUTHENTICATOR_LOGOUT_COOKIE</a></pre>
<pre> the name of a cookie to set when a user logs out
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_LOGOUT_FILE_PREFIX">SRA_AUTHENTICATOR_LOGOUT_FILE_PREFIX</a></pre>
<pre> file prefix for storing logout records
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_LOGOUT_FWD_VAR">SRA_AUTHENTICATOR_LOGOUT_FWD_VAR</a></pre>
<pre> the attribute key under which the username will be stored in the &#039;attrs&#039; attribute
</pre>      </td>
    </tr>
    <tr>
      <td><pre>boolean </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_DEBUG">SRA_AUTHENTICATOR_DEBUG</a></pre>
<pre> SRA_Authenticator debug flag
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_AUTHENTICATOR_DEBUG_FILE">SRA_AUTHENTICATOR_DEBUG_FILE</a></pre>
<pre> SRA_Authenticator debug file
</pre>      </td>
    </tr>
  </table>
  
  <h2 id="attrs">Class Attributes</h2>
  <table border="1" width="100%">
    <tr>
      <td><pre>array </pre></td>
      <td>
        <pre><a href="#attr_attrs">attrs</a></pre>
<pre> associative array of user attributes. will always contain
  the &#039;SRA_AUTHENTICATOR_ATTR_USER&#039; hash key and may additionally specify
  other attributes extracted by the SRA_Authenticator
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_unmatchedAttr">unmatchedAttr</a></pre>
<pre> if the status is SRA_AUTHENTICATOR_STATUS_INVALID_ATTRS, this will be the
  name of the attribute that was not matched
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_errMsg">errMsg</a></pre>
<pre> an optional container for SRA_Authenticator specific error codes/messages
</pre>      </td>
    </tr>
    <tr>
      <td><pre>int </pre></td>
      <td>
        <pre><a href="#attr_status">status</a></pre>
<pre> the authentication status. will correspond with one of the SRA_AUTHENTICATOR_STATUS_*
  constants
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__id">_id</a></pre>
<pre> unique identifier for this authenticator instance
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__accessLog">_accessLog</a></pre>
<pre> the log file where successful login records should be recorded.
  if not specified, they will not be recorded. the path should be
  relative to {sierra-dir}/log
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__attemptCount">_attemptCount</a></pre>
<pre> keeps track of the # of times the user has attempted to login with this
  authenticator
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__cancelTpl">_cancelTpl</a></pre>
<pre> the template that should be displayed if the user clicks cancel when the
  login box is displayed. if not specified, a blank screen will be displayed
</pre>      </td>
    </tr>
    <tr>
      <td><pre>boolean </pre></td>
      <td>
        <pre><a href="#attr__consolePrompted">_consolePrompted</a></pre>
<pre> whether or not the user has already been prompted for their username and
  password from the console
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__entityType">_entityType</a></pre>
<pre> allows the SRA_Authenticator instance to be morphed to a specific entity
</pre>      </td>
    </tr>
    <tr>
      <td><pre>boolean </pre></td>
      <td>
        <pre><a href="#attr__exceededMaxLoginAttemptCount">_exceededMaxLoginAttemptCount</a></pre>
<pre> whether or not the user exceeded the max allowed login attempts
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__failureLog">_failureLog</a></pre>
<pre> the log file where failed login attempts should be recorded. if
  not specified, they will be recorded in the default app log
  file
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__globalVar">_globalVar</a></pre>
<pre> a global PHP variable under which this SRA_Authenticator instance
  should be stored when invoked. If an SRA_Authenticator already
  exists in this variable, then it will be replaced with this
  instance.
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__logoutFwdUri">_logoutFwdUri</a></pre>
<pre> the uri that the user should be forwarded to when a logout occurs
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__logoutGetVar">_logoutGetVar</a></pre>
<pre> $_GET variable that will result in the user being logged out of this
  authenticator. a manual logout can also be performed via the
  SRA_Authenticator.logout instance method. the value of this parameter should
  be something besides empty string or 0 in order for a logout to be
  triggered automatically
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__logoutPostVar">_logoutPostVar</a></pre>
<pre> $_POST variable that will result in the user being logged out of this
  authenticator. a manual logout can also be performed via the
  SRA_Authenticator.logout instance method. the value of this parameter should
  be something besides empty string or 0 in order for a logout to be
  triggered automatically
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__logoutTpl">_logoutTpl</a></pre>
<pre> the template that should be displayed if a logout has been performed. if
  both logout-fwd-uri and logout-tpl are specified, the template will take
  priority. if neither are specified, the user will be forwarded to the same
  page they are on, resulting in an authentication dialog being displayed
</pre>      </td>
    </tr>
    <tr>
      <td><pre>array </pre></td>
      <td>
        <pre><a href="#attr__matchAllAttrs">_matchAllAttrs</a></pre>
<pre> key/value pairs that must also be matched for a successful user
  authentication to take place where the &quot;key&quot; is the identifier or the
  attribute (as specified in the authenticator params of type &quot;attrs&quot;) and
  the value is a regular expression to match against that value.
</pre>      </td>
    </tr>
    <tr>
      <td><pre>array </pre></td>
      <td>
        <pre><a href="#attr__matchOneAttrs">_matchOneAttrs</a></pre>
<pre> same as _matchAllAttrs, but only 1 needs to match
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__matchFailTpl">_matchFailTpl</a></pre>
<pre> template to display if an attribute match fails. attribute matches are
  defined in the &quot;restrict-access&quot; elements. if not specified, the login
  prompt wil be re-displayed until the user enters credentials with proper
  access or the max-attempts is exceeded
</pre>      </td>
    </tr>
    <tr>
      <td><pre>int </pre></td>
      <td>
        <pre><a href="#attr__maxAttempts">_maxAttempts</a></pre>
<pre> the maximum # of failed attempts before the max-attempt-tpl
  template is displayed. login attempts are tracked using sessions
  or IP address (based on the max-attempt-track attribute). if this
  attribute is 0 (default) then unlimited attempts are allowed
</pre>      </td>
    </tr>
    <tr>
      <td><pre>String </pre></td>
      <td>
        <pre><a href="#attr__maxAttemptTpl">_maxAttemptTpl</a></pre>
<pre> the template to display if the user exceeds the &quot;max-attempts&quot; value.
  REQUIRED if max-attempts is specified and &gt; 0
</pre>      </td>
    </tr>
    <tr>
      <td><pre>boolean </pre></td>
      <td>
        <pre><a href="#attr__maxAttemptIp">_maxAttemptIp</a></pre>
<pre> whether or not to track login attempts based on IP. the default behavior is
  to track based on a session cookie
</pre>      </td>
    </tr>
    <tr>
      <td><pre>int </pre></td>
      <td>
        <pre><a href="#attr__maxAttemptTimeout">_maxAttemptTimeout</a></pre>
<pre> # of minutes to wait before allowing a user to re-attempt to login after
  they have exceeded &quot;max-attempts&quot;. Only applies to IP based login attempt
  tracking &quot;max-attempt-ip&quot;
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__pswd">_pswd</a></pre>
<pre> the password to authenticate
</pre>      </td>
    </tr>
    <tr>
      <td><pre>String </pre></td>
      <td>
        <pre><a href="#attr__sysErrTpl">_sysErrTpl</a></pre>
<pre> the template to display if a system error occurs when this authenticator
  is invoked
</pre>      </td>
    </tr>
    <tr>
      <td><pre>String </pre></td>
      <td>
        <pre><a href="#attr__tplVar">_tplVar</a></pre>
<pre> the template variable under which this SRA_Authenticator instance should be
  stored when invoked. If an SRA_Authenticator already exists under this
  variable, then it will be replaced with this instance.
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__user">_user</a></pre>
<pre> the username to authenticate
</pre>      </td>
    </tr>
    <tr>
      <td><pre>boolean </pre></td>
      <td>
        <pre><a href="#attr__useSessions">_useSessions</a></pre>
<pre> whether or not sessions should be used to store valid logins. if sessions
  are not used, then the user will be re-authenticated with each http request
  (they will not be required to re-submit login information, but the
  authenticator will be hit each time that they make a request) based on the
  PHP_AUTH_USER and PHP_AUTH_PW global variables. the default value for this
  attribute is TRUE
</pre>      </td>
    </tr>
    <tr>
      <td><pre><a href="util.SRA_Params.html" target="contentFrame">SRA_Params</a> </pre></td>
      <td>
        <pre><a href="#attr__params">_params</a></pre>
<pre> the params specified for this authenticator
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__resource">_resource</a></pre>
<pre> authentication resource string
</pre>      </td>
    </tr>
    <tr>
      <td><pre>object </pre></td>
      <td>
        <pre><a href="#attr__userEntity">_userEntity</a></pre>
<pre> if an $entityType has been specified and successfully instantiated, this
  instance variable will be a reference to that entity for the user
</pre>      </td>
    </tr>
    <tr>
      <td><pre>boolean </pre></td>
      <td>
        <pre><a href="#attr__written">_written</a></pre>
<pre> whether or not this SRA_Authenticator has already been written to cache
</pre>      </td>
    </tr>
  </table>

  <h2 id="methods">Class Methods</h2>
  <table border="1" width="100%">
    <tr>
      <td><pre>public boolean</pre></td>
      <td>
        <pre><a href="#method_checkForLogout">checkForLogout</a>()</pre>
<pre> returns TRUE if one of the logout $_GET or $_POST values exists
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public void</pre></td>
      <td>
        <pre><a href="#method_logout">logout</a>()</pre>
<pre> removed the user&#039;s login state to this authenticator
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public static boolean</pre></td>
      <td>
        <pre><a href="#method_authenticate">authenticate</a>(array $sysConf, array $appConf)</pre>
<pre> Static method used to initiate authentication. called each time a app
  is initialized (using SRA_Controller::init())
 
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public boolean</pre></td>
      <td>
        <pre><a href="#method_promptConsole">promptConsole</a>()</pre>
<pre> this method prompts the user for a username and password at the command
  line and sets those values in the $_SERVER[&#039;PHP_AUTH_PW&#039;] and
  $_SERVER[&#039;PHP_AUTH_USER&#039;] globals. it returns TRUE on success, FALSE
  otherwise. this method can be overriden by implementing authenticators
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public static string</pre></td>
      <td>
        <pre><a href="#method_getUserId">getUserId</a>()</pre>
<pre> Static method that returns the user id for the current active user if the
  user is in a secured area
 
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public boolean</pre></td>
      <td>
        <pre><a href="#method_matchAttribute">matchAttribute</a>(string $attr, string $val=FALSE)</pre>
<pre> returns TRUE if a given attribute is present and equal to the value
  specified (if a value is specified - otherwise returns TRUE if present).
  if the $attr is an array and $val is specified, then each value in the
  $attr will be checked for a corresponding match
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public boolean</pre></td>
      <td>
        <pre><a href="#method_isValid">isValid</a>(Object $object)</pre>
<pre> Static method that returns true if the object parameter is a SRA_Authenticator object.
 
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public String</pre></td>
      <td>
        <pre><a href="#method_toString">toString</a>()</pre>
<pre> Returns a string representation of this object
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private void or SRA_Error object</pre></td>
      <td>
        <pre><a href="#method__authenticate">_authenticate</a>(string $user, string $pswd)</pre>
<pre> MUST be implemented by sub-classes. Should authenticate the user and set
  the value of the status attribute according to one of the SRA_AUTHENTICATOR_STATUS_*
  constants
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private void</pre></td>
      <td>
        <pre><a href="#method__completeAuth">_completeAuth</a>()</pre>
<pre> If an authentication does not result in an SRA_Error, this method is invoked to
  complete the login process based on the status code set by the corresponding
  sub-class _authenticate invocation
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private void</pre></td>
      <td>
        <pre><a href="#method__completeAuthLogMessage">_completeAuthLogMessage</a>()</pre>
<pre> returns the log message used by _completeAuth
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private <a href="auth.SRA_Authenticator.html" target="contentFrame">SRA_Authenticator</a></pre></td>
      <td>
        <pre><a href="#method__displayLoginDialog">_displayLoginDialog</a>()</pre>
<pre> prompts the user for login credentials
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private boolean</pre></td>
      <td>
        <pre><a href="#method__evalRestrictAccessCond">_evalRestrictAccessCond</a>(hash $config)</pre>
<pre> evaluates the conditional parameters for a &quot;restrict-access&quot; element as
  defined in app-config. returns TRUE if no conditional parameters are
  specified, or if they are specified and evaluate to TRUE
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private <a href="auth.SRA_Authenticator.html" target="contentFrame">SRA_Authenticator</a></pre></td>
      <td>
        <pre>&amp;<a href="#method__getAuthenticator">_getAuthenticator</a>($conf, $matchAllAttrs, $matchOneAttrs)</pre>
<pre> instantiate and returns an SRA_Authenticator based on the configuration and
  restrictions specified
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private string</pre></td>
      <td>
        <pre><a href="#method__getCacheFileName">_getCacheFileName</a>()</pre>
<pre> returns the file name to use for caching operations for this instance of SRA_Authenticator
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private string</pre></td>
      <td>
        <pre><a href="#method__getCacheFilePrefix">_getCacheFilePrefix</a>()</pre>
<pre> returns the file name prefix for session cache files
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private SRA_Authenticator|FALSE</pre></td>
      <td>
        <pre>&amp;<a href="#method__getFromCache">_getFromCache</a>()</pre>
<pre> gets an SRA_Authenticator from cache if it exists. this function only works with
  sessions enabled
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private int</pre></td>
      <td>
        <pre><a href="#method__getLoginAttemptCount">_getLoginAttemptCount</a>()</pre>
<pre> returns the # of times that this user has attempted to login based on the
  tracking method specified (IP or sessions)
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private string</pre></td>
      <td>
        <pre><a href="#method__getLogoutFile">_getLogoutFile</a>()</pre>
<pre> returns the path to the logout file. this file will be created each time
  the user logs out and deleted (if it exists) each time the user logs in
  successfully
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private mixed</pre></td>
      <td>
        <pre>&amp;<a href="#method__getUserVariable">_getUserVariable</a>()</pre>
<pre> returns the user variable for this authenticator (if applicable)
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private string</pre></td>
      <td>
        <pre><a href="#method__killSession">_killSession</a>()</pre>
<pre> kills any data in the current session if the SRA_Authenticator uses sessions
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private boolean</pre></td>
      <td>
        <pre><a href="#method__logoutFileExists">_logoutFileExists</a>()</pre>
<pre> returns TRUE if a logout file exists for this authenticator and user
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private void</pre></td>
      <td>
        <pre><a href="#method__matchAttributes">_matchAttributes</a>($ignoreMatchFail=FALSE)</pre>
<pre> matches SRA_Authenticator instance attributes if applicable and sets the
  corresponding status code. alternatively, if a &quot;match-fail-tpl&quot; has been
  defined, it will be displayed immediately and the process exited
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private void</pre></td>
      <td>
        <pre><a href="#method__removeFromCache">_removeFromCache</a>()</pre>
<pre> removes an authenticator cache file if it exists
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private void</pre></td>
      <td>
        <pre><a href="#method__updateLoginAttempts">_updateLoginAttempts</a>()</pre>
<pre> updates the failed login attempts count if applicable. sets _exceededMaxLoginAttemptCount
  to true if applicable
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private void</pre></td>
      <td>
        <pre>&amp;<a href="#method__writeToCache">_writeToCache</a>(boolean $lookup=FALSE)</pre>
<pre> writes the current SRA_Authenticator instance to cache based on the user&#039;s
  session_id
</pre>      </td>
    </tr>
  </table>

  <h2 id="constant_details">Constant Details</h2>
  <a href="#top" style="float:right">Top</a>
  <h3 id="constant_SRA_AUTHENTICATOR_ATTR_USER">SRA_AUTHENTICATOR_ATTR_USER</h3>
  <pre>string <b>SRA_AUTHENTICATOR_ATTR_USER</b> = 'user'</pre>
  <pre> the attribute key under which the username will be stored in the &#039;attrs&#039; attribute
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_STATUS_SUCCESS">SRA_AUTHENTICATOR_STATUS_SUCCESS</h3>
  <pre>int <b>SRA_AUTHENTICATOR_STATUS_SUCCESS</b> = 1</pre>
  <pre> status code signifying that the user was authenticated successfully
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_STATUS_FAILED">SRA_AUTHENTICATOR_STATUS_FAILED</h3>
  <pre>int <b>SRA_AUTHENTICATOR_STATUS_FAILED</b> = 2</pre>
  <pre> status code signifying that the user authentication failed (but a more
  specific reason is not known). this is the default status code.
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_STATUS_INVALID_PSWD">SRA_AUTHENTICATOR_STATUS_INVALID_PSWD</h3>
  <pre>int <b>SRA_AUTHENTICATOR_STATUS_INVALID_PSWD</b> = 4</pre>
  <pre> status code signifying that the user authentication failed because the password
  specified is not valid (the user is valid)
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_STATUS_INVALID_USER">SRA_AUTHENTICATOR_STATUS_INVALID_USER</h3>
  <pre>int <b>SRA_AUTHENTICATOR_STATUS_INVALID_USER</b> = 8</pre>
  <pre> status code signifying that the user authentication failed because the username
  specified is not valid
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_STATUS_INVALID_ATTRS">SRA_AUTHENTICATOR_STATUS_INVALID_ATTRS</h3>
  <pre>int <b>SRA_AUTHENTICATOR_STATUS_INVALID_ATTRS</b> = 16</pre>
  <pre> status code signifying that the user authentication was successful, but the
  user attribute validation failed
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_STATUS_ERROR">SRA_AUTHENTICATOR_STATUS_ERROR</h3>
  <pre>int <b>SRA_AUTHENTICATOR_STATUS_ERROR</b> = 32</pre>
  <pre> status code signifying that the user authentication failed due to a system error
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_DEFAULT_TIMEOUT">SRA_AUTHENTICATOR_DEFAULT_TIMEOUT</h3>
  <pre>int <b>SRA_AUTHENTICATOR_DEFAULT_TIMEOUT</b> = 15</pre>
  <pre> the default timeout value where access tracking is performed based on IP
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_FILE_PREFIX">SRA_AUTHENTICATOR_FILE_PREFIX</h3>
  <pre>string <b>SRA_AUTHENTICATOR_FILE_PREFIX</b> = '.sierra_auth_'</pre>
  <pre> file prefix for storing authenticator cache files and login counts in a file
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_LOGOUT_COOKIE">SRA_AUTHENTICATOR_LOGOUT_COOKIE</h3>
  <pre>string <b>SRA_AUTHENTICATOR_LOGOUT_COOKIE</b> = 'sraLogout'</pre>
  <pre> the name of a cookie to set when a user logs out
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_LOGOUT_FILE_PREFIX">SRA_AUTHENTICATOR_LOGOUT_FILE_PREFIX</h3>
  <pre>string <b>SRA_AUTHENTICATOR_LOGOUT_FILE_PREFIX</b> = '.sierra_auth_logout_'</pre>
  <pre> file prefix for storing logout records
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_LOGOUT_FWD_VAR">SRA_AUTHENTICATOR_LOGOUT_FWD_VAR</h3>
  <pre>string <b>SRA_AUTHENTICATOR_LOGOUT_FWD_VAR</b> = 'sraLogoutFwd'</pre>
  <pre> the attribute key under which the username will be stored in the &#039;attrs&#039; attribute
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_DEBUG">SRA_AUTHENTICATOR_DEBUG</h3>
  <pre>boolean <b>SRA_AUTHENTICATOR_DEBUG</b> = FALSE</pre>
  <pre> SRA_Authenticator debug flag
</pre>
 <hr />  <h3 id="constant_SRA_AUTHENTICATOR_DEBUG_FILE">SRA_AUTHENTICATOR_DEBUG_FILE</h3>
  <pre>string <b>SRA_AUTHENTICATOR_DEBUG_FILE</b> = SRA_DIR . '/tmp/.sierra_auth_debug'</pre>
  <pre> SRA_Authenticator debug file
</pre>

  <h2 id="attr_details">Attribute Details</h2>
  <a href="#top" style="float:right">Top</a>
  <h3 id="attr_attrs">attrs</h3>
  <pre>array var <b>$attrs</b> = array()</pre>
  <pre> associative array of user attributes. will always contain
  the &#039;SRA_AUTHENTICATOR_ATTR_USER&#039; hash key and may additionally specify
  other attributes extracted by the SRA_Authenticator
</pre>
 <hr />  <h3 id="attr_unmatchedAttr">unmatchedAttr</h3>
  <pre>string var <b>$unmatchedAttr</b></pre>
  <pre> if the status is SRA_AUTHENTICATOR_STATUS_INVALID_ATTRS, this will be the
  name of the attribute that was not matched
</pre>
 <hr />  <h3 id="attr_errMsg">errMsg</h3>
  <pre>string var <b>$errMsg</b></pre>
  <pre> an optional container for SRA_Authenticator specific error codes/messages
</pre>
 <hr />  <h3 id="attr_status">status</h3>
  <pre>int var <b>$status</b> = SRA_AUTHENTICATOR_STATUS_FAILED</pre>
  <pre> the authentication status. will correspond with one of the SRA_AUTHENTICATOR_STATUS_*
  constants
</pre>
 <hr />  <h3 id="attr__id">_id</h3>
  <pre>string var <b>$_id</b></pre>
  <pre> unique identifier for this authenticator instance
</pre>
 <hr />  <h3 id="attr__accessLog">_accessLog</h3>
  <pre>string var <b>$_accessLog</b></pre>
  <pre> the log file where successful login records should be recorded.
  if not specified, they will not be recorded. the path should be
  relative to {sierra-dir}/log
</pre>
 <hr />  <h3 id="attr__attemptCount">_attemptCount</h3>
  <pre>string var <b>$_attemptCount</b></pre>
  <pre> keeps track of the # of times the user has attempted to login with this
  authenticator
</pre>
 <hr />  <h3 id="attr__cancelTpl">_cancelTpl</h3>
  <pre>string var <b>$_cancelTpl</b></pre>
  <pre> the template that should be displayed if the user clicks cancel when the
  login box is displayed. if not specified, a blank screen will be displayed
</pre>
 <hr />  <h3 id="attr__consolePrompted">_consolePrompted</h3>
  <pre>boolean var <b>$_consolePrompted</b> = FALSE</pre>
  <pre> whether or not the user has already been prompted for their username and
  password from the console
</pre>
 <hr />  <h3 id="attr__entityType">_entityType</h3>
  <pre>string var <b>$_entityType</b></pre>
  <pre> allows the SRA_Authenticator instance to be morphed to a specific entity
</pre>
 <hr />  <h3 id="attr__exceededMaxLoginAttemptCount">_exceededMaxLoginAttemptCount</h3>
  <pre>boolean var <b>$_exceededMaxLoginAttemptCount</b> = FALSE</pre>
  <pre> whether or not the user exceeded the max allowed login attempts
</pre>
 <hr />  <h3 id="attr__failureLog">_failureLog</h3>
  <pre>string var <b>$_failureLog</b></pre>
  <pre> the log file where failed login attempts should be recorded. if
  not specified, they will be recorded in the default app log
  file
</pre>
 <hr />  <h3 id="attr__globalVar">_globalVar</h3>
  <pre>string var <b>$_globalVar</b></pre>
  <pre> a global PHP variable under which this SRA_Authenticator instance
  should be stored when invoked. If an SRA_Authenticator already
  exists in this variable, then it will be replaced with this
  instance.
</pre>
 <hr />  <h3 id="attr__logoutFwdUri">_logoutFwdUri</h3>
  <pre>string var <b>$_logoutFwdUri</b></pre>
  <pre> the uri that the user should be forwarded to when a logout occurs
</pre>
 <hr />  <h3 id="attr__logoutGetVar">_logoutGetVar</h3>
  <pre>string var <b>$_logoutGetVar</b></pre>
  <pre> $_GET variable that will result in the user being logged out of this
  authenticator. a manual logout can also be performed via the
  SRA_Authenticator.logout instance method. the value of this parameter should
  be something besides empty string or 0 in order for a logout to be
  triggered automatically
</pre>
 <hr />  <h3 id="attr__logoutPostVar">_logoutPostVar</h3>
  <pre>string var <b>$_logoutPostVar</b></pre>
  <pre> $_POST variable that will result in the user being logged out of this
  authenticator. a manual logout can also be performed via the
  SRA_Authenticator.logout instance method. the value of this parameter should
  be something besides empty string or 0 in order for a logout to be
  triggered automatically
</pre>
 <hr />  <h3 id="attr__logoutTpl">_logoutTpl</h3>
  <pre>string var <b>$_logoutTpl</b></pre>
  <pre> the template that should be displayed if a logout has been performed. if
  both logout-fwd-uri and logout-tpl are specified, the template will take
  priority. if neither are specified, the user will be forwarded to the same
  page they are on, resulting in an authentication dialog being displayed
</pre>
 <hr />  <h3 id="attr__matchAllAttrs">_matchAllAttrs</h3>
  <pre>array var <b>$_matchAllAttrs</b></pre>
  <pre> key/value pairs that must also be matched for a successful user
  authentication to take place where the &quot;key&quot; is the identifier or the
  attribute (as specified in the authenticator params of type &quot;attrs&quot;) and
  the value is a regular expression to match against that value.
</pre>
 <hr />  <h3 id="attr__matchOneAttrs">_matchOneAttrs</h3>
  <pre>array var <b>$_matchOneAttrs</b></pre>
  <pre> same as _matchAllAttrs, but only 1 needs to match
</pre>
 <hr />  <h3 id="attr__matchFailTpl">_matchFailTpl</h3>
  <pre>string var <b>$_matchFailTpl</b></pre>
  <pre> template to display if an attribute match fails. attribute matches are
  defined in the &quot;restrict-access&quot; elements. if not specified, the login
  prompt wil be re-displayed until the user enters credentials with proper
  access or the max-attempts is exceeded
</pre>
 <hr />  <h3 id="attr__maxAttempts">_maxAttempts</h3>
  <pre>int var <b>$_maxAttempts</b></pre>
  <pre> the maximum # of failed attempts before the max-attempt-tpl
  template is displayed. login attempts are tracked using sessions
  or IP address (based on the max-attempt-track attribute). if this
  attribute is 0 (default) then unlimited attempts are allowed
</pre>
 <hr />  <h3 id="attr__maxAttemptTpl">_maxAttemptTpl</h3>
  <pre>String var <b>$_maxAttemptTpl</b></pre>
  <pre> the template to display if the user exceeds the &quot;max-attempts&quot; value.
  REQUIRED if max-attempts is specified and &gt; 0
</pre>
 <hr />  <h3 id="attr__maxAttemptIp">_maxAttemptIp</h3>
  <pre>boolean var <b>$_maxAttemptIp</b></pre>
  <pre> whether or not to track login attempts based on IP. the default behavior is
  to track based on a session cookie
</pre>
 <hr />  <h3 id="attr__maxAttemptTimeout">_maxAttemptTimeout</h3>
  <pre>int var <b>$_maxAttemptTimeout</b></pre>
  <pre> # of minutes to wait before allowing a user to re-attempt to login after
  they have exceeded &quot;max-attempts&quot;. Only applies to IP based login attempt
  tracking &quot;max-attempt-ip&quot;
</pre>
 <hr />  <h3 id="attr__pswd">_pswd</h3>
  <pre>string var <b>$_pswd</b></pre>
  <pre> the password to authenticate
</pre>
 <hr />  <h3 id="attr__sysErrTpl">_sysErrTpl</h3>
  <pre>String var <b>$_sysErrTpl</b></pre>
  <pre> the template to display if a system error occurs when this authenticator
  is invoked
</pre>
 <hr />  <h3 id="attr__tplVar">_tplVar</h3>
  <pre>String var <b>$_tplVar</b></pre>
  <pre> the template variable under which this SRA_Authenticator instance should be
  stored when invoked. If an SRA_Authenticator already exists under this
  variable, then it will be replaced with this instance.
</pre>
 <hr />  <h3 id="attr__user">_user</h3>
  <pre>string var <b>$_user</b></pre>
  <pre> the username to authenticate
</pre>
 <hr />  <h3 id="attr__useSessions">_useSessions</h3>
  <pre>boolean var <b>$_useSessions</b></pre>
  <pre> whether or not sessions should be used to store valid logins. if sessions
  are not used, then the user will be re-authenticated with each http request
  (they will not be required to re-submit login information, but the
  authenticator will be hit each time that they make a request) based on the
  PHP_AUTH_USER and PHP_AUTH_PW global variables. the default value for this
  attribute is TRUE
</pre>
 <hr />  <h3 id="attr__params">_params</h3>
  <pre><a href="util.SRA_Params.html" target="contentFrame">SRA_Params</a> var <b>$_params</b> = FALSE</pre>
  <pre> the params specified for this authenticator
</pre>
 <hr />  <h3 id="attr__resource">_resource</h3>
  <pre>string var <b>$_resource</b></pre>
  <pre> authentication resource string
</pre>
 <hr />  <h3 id="attr__userEntity">_userEntity</h3>
  <pre>object var <b>$_userEntity</b></pre>
  <pre> if an $entityType has been specified and successfully instantiated, this
  instance variable will be a reference to that entity for the user
</pre>
 <hr />  <h3 id="attr__written">_written</h3>
  <pre>boolean var <b>$_written</b> = FALSE</pre>
  <pre> whether or not this SRA_Authenticator has already been written to cache
</pre>

  <h2 id="method_details">Method Details</h2>
  <a href="#top" style="float:right">Top</a>
  <h3 id="method_checkForLogout">checkForLogout</h3>
  <pre>public boolean function <b>checkForLogout</b>()</pre>
  <pre> returns TRUE if one of the logout $_GET or $_POST values exists
</pre>
 <hr />  <h3 id="method_logout">logout</h3>
  <pre>public void function <b>logout</b>()</pre>
  <pre> removed the user&#039;s login state to this authenticator
</pre>
 <hr />  <h3 id="method_authenticate">authenticate</h3>
  <pre>public static boolean function <b>authenticate</b>(array $sysConf, array $appConf)</pre>
  <pre> Static method used to initiate authentication. called each time a app
  is initialized (using SRA_Controller::init())
 
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>sysConf</td>
      <td>array</td>
      <td><pre>the system configuration</pre></td>
      <td>None</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>appConf</td>
      <td>array</td>
      <td><pre>the app configuration</pre></td>
      <td>None</td>
      <td>Yes</td>
    </tr>
  </table>
 <hr />  <h3 id="method_promptConsole">promptConsole</h3>
  <pre>public boolean function <b>promptConsole</b>()</pre>
  <pre> this method prompts the user for a username and password at the command
  line and sets those values in the $_SERVER[&#039;PHP_AUTH_PW&#039;] and
  $_SERVER[&#039;PHP_AUTH_USER&#039;] globals. it returns TRUE on success, FALSE
  otherwise. this method can be overriden by implementing authenticators
</pre>
 <hr />  <h3 id="method_getUserId">getUserId</h3>
  <pre>public static string function <b>getUserId</b>()</pre>
  <pre> Static method that returns the user id for the current active user if the
  user is in a secured area
 
</pre>
 <hr />  <h3 id="method_matchAttribute">matchAttribute</h3>
  <pre>public boolean function <b>matchAttribute</b>(string $attr, string $val=FALSE)</pre>
  <pre> returns TRUE if a given attribute is present and equal to the value
  specified (if a value is specified - otherwise returns TRUE if present).
  if the $attr is an array and $val is specified, then each value in the
  $attr will be checked for a corresponding match
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>attr</td>
      <td>string</td>
      <td><pre>the name of the attribute</pre></td>
      <td>None</td>
      <td>No</td>
    </tr>
    <tr>
      <td>val</td>
      <td>string</td>
      <td><pre>an optional value to match. may be a regular expression  or a fixed value</pre></td>
      <td>FALSE</td>
      <td>No</td>
    </tr>
  </table>
 <hr />  <h3 id="method_isValid">isValid</h3>
  <pre>public boolean function <b>isValid</b>(Object $object)</pre>
  <pre> Static method that returns true if the object parameter is a SRA_Authenticator object.
 
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>object</td>
      <td>Object</td>
      <td><pre>$object The object to validate</pre></td>
      <td>None</td>
      <td>Yes</td>
    </tr>
  </table>
 <hr />  <h3 id="method_toString">toString</h3>
  <pre>public String function <b>toString</b>()</pre>
  <pre> Returns a string representation of this object
</pre>
 <hr />  <h3 id="method__authenticate">_authenticate</h3>
  <pre>private void or SRA_Error object function <b>_authenticate</b>(string $user, string $pswd)</pre>
  <pre> MUST be implemented by sub-classes. Should authenticate the user and set
  the value of the status attribute according to one of the SRA_AUTHENTICATOR_STATUS_*
  constants
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>user</td>
      <td>string</td>
      <td><pre>the username to authenticate</pre></td>
      <td>None</td>
      <td>No</td>
    </tr>
    <tr>
      <td>pswd</td>
      <td>string</td>
      <td><pre>the password to authenticate</pre></td>
      <td>None</td>
      <td>No</td>
    </tr>
  </table>
 <hr />  <h3 id="method__completeAuth">_completeAuth</h3>
  <pre>private void function <b>_completeAuth</b>()</pre>
  <pre> If an authentication does not result in an SRA_Error, this method is invoked to
  complete the login process based on the status code set by the corresponding
  sub-class _authenticate invocation
</pre>
 <hr />  <h3 id="method__completeAuthLogMessage">_completeAuthLogMessage</h3>
  <pre>private void function <b>_completeAuthLogMessage</b>()</pre>
  <pre> returns the log message used by _completeAuth
</pre>
 <hr />  <h3 id="method__displayLoginDialog">_displayLoginDialog</h3>
  <pre>private <a href="auth.SRA_Authenticator.html" target="contentFrame">SRA_Authenticator</a> function <b>_displayLoginDialog</b>()</pre>
  <pre> prompts the user for login credentials
</pre>
 <hr />  <h3 id="method__evalRestrictAccessCond">_evalRestrictAccessCond</h3>
  <pre>private boolean function <b>_evalRestrictAccessCond</b>(hash $config)</pre>
  <pre> evaluates the conditional parameters for a &quot;restrict-access&quot; element as
  defined in app-config. returns TRUE if no conditional parameters are
  specified, or if they are specified and evaluate to TRUE
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>config</td>
      <td>hash</td>
      <td><pre>hash containing the &quot;restrict-access&quot; &quot;cond-&quot;  parameters (see app-config dtd for more info)</pre></td>
      <td>None</td>
      <td>Yes</td>
    </tr>
  </table>
 <hr />  <h3 id="method__getAuthenticator">_getAuthenticator</h3>
  <pre>private <a href="auth.SRA_Authenticator.html" target="contentFrame">SRA_Authenticator</a> function &amp;<b>_getAuthenticator</b>($conf, $matchAllAttrs, $matchOneAttrs)</pre>
  <pre> instantiate and returns an SRA_Authenticator based on the configuration and
  restrictions specified
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>conf</td>
      <td>Not Specified</td>
      <td><pre>No API comments</pre></td>
      <td>None</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>matchAllAttrs</td>
      <td>Not Specified</td>
      <td><pre>No API comments</pre></td>
      <td>None</td>
      <td>No</td>
    </tr>
    <tr>
      <td>matchOneAttrs</td>
      <td>Not Specified</td>
      <td><pre>No API comments</pre></td>
      <td>None</td>
      <td>No</td>
    </tr>
  </table>
 <hr />  <h3 id="method__getCacheFileName">_getCacheFileName</h3>
  <pre>private string function <b>_getCacheFileName</b>()</pre>
  <pre> returns the file name to use for caching operations for this instance of SRA_Authenticator
</pre>
 <hr />  <h3 id="method__getCacheFilePrefix">_getCacheFilePrefix</h3>
  <pre>private string function <b>_getCacheFilePrefix</b>()</pre>
  <pre> returns the file name prefix for session cache files
</pre>
 <hr />  <h3 id="method__getFromCache">_getFromCache</h3>
  <pre>private SRA_Authenticator|FALSE function &amp;<b>_getFromCache</b>()</pre>
  <pre> gets an SRA_Authenticator from cache if it exists. this function only works with
  sessions enabled
</pre>
 <hr />  <h3 id="method__getLoginAttemptCount">_getLoginAttemptCount</h3>
  <pre>private int function <b>_getLoginAttemptCount</b>()</pre>
  <pre> returns the # of times that this user has attempted to login based on the
  tracking method specified (IP or sessions)
</pre>
 <hr />  <h3 id="method__getLogoutFile">_getLogoutFile</h3>
  <pre>private string function <b>_getLogoutFile</b>()</pre>
  <pre> returns the path to the logout file. this file will be created each time
  the user logs out and deleted (if it exists) each time the user logs in
  successfully
</pre>
 <hr />  <h3 id="method__getUserVariable">_getUserVariable</h3>
  <pre>private mixed function &amp;<b>_getUserVariable</b>()</pre>
  <pre> returns the user variable for this authenticator (if applicable)
</pre>
 <hr />  <h3 id="method__killSession">_killSession</h3>
  <pre>private string function <b>_killSession</b>()</pre>
  <pre> kills any data in the current session if the SRA_Authenticator uses sessions
</pre>
 <hr />  <h3 id="method__logoutFileExists">_logoutFileExists</h3>
  <pre>private boolean function <b>_logoutFileExists</b>()</pre>
  <pre> returns TRUE if a logout file exists for this authenticator and user
</pre>
 <hr />  <h3 id="method__matchAttributes">_matchAttributes</h3>
  <pre>private void function <b>_matchAttributes</b>($ignoreMatchFail=FALSE)</pre>
  <pre> matches SRA_Authenticator instance attributes if applicable and sets the
  corresponding status code. alternatively, if a &quot;match-fail-tpl&quot; has been
  defined, it will be displayed immediately and the process exited
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>ignoreMatchFail</td>
      <td>Not Specified</td>
      <td><pre>No API comments</pre></td>
      <td>FALSE</td>
      <td>No</td>
    </tr>
  </table>
 <hr />  <h3 id="method__removeFromCache">_removeFromCache</h3>
  <pre>private void function <b>_removeFromCache</b>()</pre>
  <pre> removes an authenticator cache file if it exists
</pre>
 <hr />  <h3 id="method__updateLoginAttempts">_updateLoginAttempts</h3>
  <pre>private void function <b>_updateLoginAttempts</b>()</pre>
  <pre> updates the failed login attempts count if applicable. sets _exceededMaxLoginAttemptCount
  to true if applicable
</pre>
 <hr />  <h3 id="method__writeToCache">_writeToCache</h3>
  <pre>private void function &amp;<b>_writeToCache</b>(boolean $lookup=FALSE)</pre>
  <pre> writes the current SRA_Authenticator instance to cache based on the user&#039;s
  session_id
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>lookup</td>
      <td>boolean</td>
      <td><pre>whether or not to attempt to lookup the authenticator  in cache and return it if it exists (it will only exist if previously
  written)</pre></td>
      <td>FALSE</td>
      <td>No</td>
    </tr>
  </table>
  
  <h2>Other Information</h2>
  <table id="other" border="1" width="100%">
  <tr>
    <th>Source File</th>
    <td>/home/jread/www/sierra/lib/auth/SRA_Authenticator.php</td>
  </tr>
  <tr>
    <th>author</th>
    <td>Jason Read &lt;jason@idir.org&gt;</td>
  </tr>
  </table>
  </form>
</body>
</html>