<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>model.SRA_WSGateway - sierra-php v1.1.3</title>
<script type="text/javascript">
<!--
var _qsAbortNext = false;
var _tipsIdx = 0;
var _tipIds;

function clearQsTips() {
  document.getElementById('quicksearch_tips').innerHTML = '';
}
function hideQsTips() {
  setTimeout("document.getElementById('quicksearch_tips').style.display = 'none'", 100);
}
function showQsTips() {
  document.getElementById('quicksearch_tips').style.display = '';
}
function qsTipsVisible() {
  return document.getElementById('quicksearch_tips').style.display != 'none';
}
function updateQsTips(evt) {
  if (qsTipsVisible() && evt && (evt.keyCode == 40 || evt.keyCode == 38 || evt.keyCode == 13)) {
    switch(evt.keyCode) {
      // up
      case 38:
      // down
      case 40:
        if (_tipsIdx >= 0) document.getElementById(_tipIds[_tipsIdx]).style.backgroundColor = '';
        evt.keyCode == 38 ? _tipsIdx-- : _tipsIdx++;
        if (_tipsIdx > _tipIds.length) _tipsIdx = 0;
        if (_tipsIdx < 0) _tipsIdx = _tipIds.length - 1;
        if (_tipsIdx >= 0) document.getElementById(_tipIds[_tipsIdx]).style.backgroundColor = '#ddd';
        break;
      // enter
      case 13:
        if (_tipsIdx >= 0 && _tipIds[_tipsIdx]) {
          document.location.replace('#' + _tipIds[_tipsIdx].substr(3));
        }
        break;
    }
    return;
  }
  
  _tipsIdx = -1;
  _tipIds = [];
  var str = document.getElementById('quicksearch').value.toLowerCase();
  var matches = {}
  var match = false;
  
  if (str) {
  // check constants
  if ("sra_ws_gateway_doc_type_api".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_GATEWAY_DOC_TYPE_API'] = "SRA_WS_GATEWAY_DOC_TYPE_API";
  }
  if ("sra_ws_gateway_doc_type_entity".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_GATEWAY_DOC_TYPE_ENTITY'] = "SRA_WS_GATEWAY_DOC_TYPE_ENTITY";
  }
  if ("sra_ws_gateway_doc_type_wsdl".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_GATEWAY_DOC_TYPE_WSDL'] = "SRA_WS_GATEWAY_DOC_TYPE_WSDL";
  }
  if ("sra_ws_gateway_key_api_css_uri".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_GATEWAY_KEY_API_CSS_URI'] = "SRA_WS_GATEWAY_KEY_API_CSS_URI";
  }
  if ("sra_ws_gateway_key_rewrite".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_GATEWAY_KEY_REWRITE'] = "SRA_WS_GATEWAY_KEY_REWRITE";
  }
  if ("sra_ws_gateway_key_uri".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_GATEWAY_KEY_URI'] = "SRA_WS_GATEWAY_KEY_URI";
  }
  if ("sra_ws_gateway_async_request_timeout".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_GATEWAY_ASYNC_REQUEST_TIMEOUT'] = "SRA_WS_GATEWAY_ASYNC_REQUEST_TIMEOUT";
  }
  if ("sra_ws_gateway_buffer_prefix".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_GATEWAY_BUFFER_PREFIX'] = "SRA_WS_GATEWAY_BUFFER_PREFIX";
  }
  if ("sra_ws_gateway_buffer_file_remove".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_GATEWAY_BUFFER_FILE_REMOVE'] = "SRA_WS_GATEWAY_BUFFER_FILE_REMOVE";
  }
  if ("sra_ws_gateway_mapping_file".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_GATEWAY_MAPPING_FILE'] = "SRA_WS_GATEWAY_MAPPING_FILE";
  }
  if ("sra_ws_gateway_noop".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_GATEWAY_NOOP'] = "SRA_WS_GATEWAY_NOOP";
  }
  if ("sra_ws_version_1_1".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_VERSION_1_1'] = "SRA_WS_VERSION_1_1";
  }
  if ("sra_ws_version_1_2".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WS_VERSION_1_2'] = "SRA_WS_VERSION_1_2";
  }

  // check attributes
  if ("_doc".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__doc'] = "_doc";
  }
  if ("_issoap".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__isSoap'] = "_isSoap";
  }
  if ("_request".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__request'] = "_request";
  }
  if ("_service".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__service'] = "_service";
  }
  if ("_sessionvar".indexOf(str) != -1) {
    match = true;
    matches['qs_attr__sessionVar'] = "_sessionVar";
  }

  // check methods
  if ("sra_wsgateway".indexOf(str) != -1) {
    match = true;
    matches['qs_method_SRA_WSGateway'] = "SRA_WSGateway";
  }
  if ("printresponse".indexOf(str) != -1) {
    match = true;
    matches['qs_method_printResponse'] = "printResponse";
  }
  if ("process".indexOf(str) != -1) {
    match = true;
    matches['qs_method_process'] = "process";
  }
  if ("_binddynamicparams".indexOf(str) != -1) {
    match = true;
    matches['qs_method__bindDynamicParams'] = "_bindDynamicParams";
  }
  if ("cacheservices".indexOf(str) != -1) {
    match = true;
    matches['qs_method_cacheServices'] = "cacheServices";
  }
  if ("getapicssuri".indexOf(str) != -1) {
    match = true;
    matches['qs_method_getApiCssUri'] = "getApiCssUri";
  }
  if ("getapiuri".indexOf(str) != -1) {
    match = true;
    matches['qs_method_getApiUri'] = "getApiUri";
  }
  if ("getappmappingfile".indexOf(str) != -1) {
    match = true;
    matches['qs_method_getAppMappingFile'] = "getAppMappingFile";
  }
  if ("getentityuri".indexOf(str) != -1) {
    match = true;
    matches['qs_method_getEntityUri'] = "getEntityUri";
  }
  if ("getgatewayuri".indexOf(str) != -1) {
    match = true;
    matches['qs_method_getGatewayUri'] = "getGatewayUri";
  }
  if ("getservice".indexOf(str) != -1) {
    match = true;
    matches['qs_method_getService'] = "getService";
  }
  if ("getservices".indexOf(str) != -1) {
    match = true;
    matches['qs_method_getServices'] = "getServices";
  }
  if ("getserviceapiuri".indexOf(str) != -1) {
    match = true;
    matches['qs_method_getServiceApiUri'] = "getServiceApiUri";
  }
  if ("getservicewsdluri".indexOf(str) != -1) {
    match = true;
    matches['qs_method_getServiceWsdlUri'] = "getServiceWsdlUri";
  }
  if ("getwsdluri".indexOf(str) != -1) {
    match = true;
    matches['qs_method_getWsdlUri'] = "getWsdlUri";
  }
  if ("isgatewayrewrite".indexOf(str) != -1) {
    match = true;
    matches['qs_method_isGatewayRewrite'] = "isGatewayRewrite";
  }
  if ("isvalid".indexOf(str) != -1) {
    match = true;
    matches['qs_method_isValid'] = "isValid";
  }
  if ("_convertsoapxml".indexOf(str) != -1) {
    match = true;
    matches['qs_method__convertSoapXml'] = "_convertSoapXml";
  }

  // check classes
  if ("sra_workflow".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_Workflow'] = "SRA_Workflow";
  }
  if ("sra_workflowconstraint".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowConstraint'] = "SRA_WorkflowConstraint";
  }
  if ("sra_workflowconstraintgroup".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowConstraintGroup'] = "SRA_WorkflowConstraintGroup";
  }
  if ("sra_workflowdecision".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowDecision'] = "SRA_WorkflowDecision";
  }
  if ("sra_workflowmanager".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowManager'] = "SRA_WorkflowManager";
  }
  if ("sra_workflowstep".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowStep'] = "SRA_WorkflowStep";
  }
  if ("sra_workflowtask".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowTask'] = "SRA_WorkflowTask";
  }


  // check dtds
  if ("workflow.dtd".indexOf(str) != -1) {
    match = true;
    matches['qs_dtd_workflow.dtd'] = "workflow.dtd";
  }

  // check packages
  if ("etc".indexOf(str) != -1) {
    match = true;
    matches['qs_package_etc'] = "etc";
  }
  if ("etc.l10n".indexOf(str) != -1) {
    match = true;
    matches['qs_package_etc.l10n'] = "etc.l10n";
  }
  if ("auth".indexOf(str) != -1) {
    match = true;
    matches['qs_package_auth'] = "auth";
  }
  if ("core".indexOf(str) != -1) {
    match = true;
    matches['qs_package_core'] = "core";
  }
  if ("model".indexOf(str) != -1) {
    match = true;
    matches['qs_package_model'] = "model";
  }
  if ("sql".indexOf(str) != -1) {
    match = true;
    matches['qs_package_sql'] = "sql";
  }
  if ("test".indexOf(str) != -1) {
    match = true;
    matches['qs_package_test'] = "test";
  }
  if ("util".indexOf(str) != -1) {
    match = true;
    matches['qs_package_util'] = "util";
  }
  if ("util.installer".indexOf(str) != -1) {
    match = true;
    matches['qs_package_util.installer'] = "util.installer";
  }
  if ("util.l10n".indexOf(str) != -1) {
    match = true;
    matches['qs_package_util.l10n'] = "util.l10n";
  }
  if ("workflow".indexOf(str) != -1) {
    match = true;
    matches['qs_package_workflow'] = "workflow";
  }


  }
  
  if (match) {
    var html = '';
    for(var i in matches) {
      _tipIds.push(i);
      html += '<div id="' + i + '" style="background-color: white; cursor: pointer;" onclick="document.location.replace(\'#\' + this.id.substr(3))">' + matches[i] + '</div>\n';
    }
    document.getElementById('quicksearch_tips').innerHTML = html;
    showQsTips();
  }
  else {
    hideQsTips();
  }
}
-->
</script></head>
<body id="class" onload="document.getElementById('quicksearch').onkeyup = updateQsTips; document.getElementById('quicksearch').focus()">
  <h1 id="top">class SRA_WSGateway</h1>
<p>&nbsp;&nbsp;&nbsp;&nbsp;package <a href="../packages/model.html" target="contentFrame">model</a></p>  <hr />
  <form onsubmit="return false">
  
  <div style="float:right">
    <b><label for="quicksearch">Quick Search:</label></b><br />
    <input id="quicksearch" type="text" onfocus="clearQsTips()" onblur="hideQsTips()" autocomplete="off" onclick="this.select()" /><br />
    <div id="quicksearch_tips" style="border: 1px solid #333; position:absolute; display:none"></div>
  </div>
  
  <pre>class SRA_WSGateway</pre>
  
  <h2>Class Information</h2>
  <ul>
    <li><a href="#comments">Class Comments</a></li>
    <li><a href="#constants">Constants</a></li>
    <li><a href="#constant_details">Constant Details</a></li>
    <li><a href="#attrs">Attributes</a></li>
    <li><a href="#attr_details">Attribute Details</a></li>
    <li><a href="#methods">Methods</a></li>
    <li><a href="#method_details">Method Details</a></li>
    <li><a href="#other">Other</a></li>
  </ul>
  
  <h2 id="comments">Comment</h2>
  <pre>
</pre>
  
  <h2 id="constants">Class Constants</h2>
  <table border="1" width="100%">
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_GATEWAY_DOC_TYPE_API">SRA_WS_GATEWAY_DOC_TYPE_API</a></pre>
<pre> the identifier for the api doc type
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_GATEWAY_DOC_TYPE_ENTITY">SRA_WS_GATEWAY_DOC_TYPE_ENTITY</a></pre>
<pre> the identifier for the entity doc type
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_GATEWAY_DOC_TYPE_WSDL">SRA_WS_GATEWAY_DOC_TYPE_WSDL</a></pre>
<pre> the identifier for the wsdl doc type
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_GATEWAY_KEY_API_CSS_URI">SRA_WS_GATEWAY_KEY_API_CSS_URI</a></pre>
<pre> the identifier for the api css uri in the mapping file
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_GATEWAY_KEY_REWRITE">SRA_WS_GATEWAY_KEY_REWRITE</a></pre>
<pre> the identifier for the gateway rewrite flag in the mapping file
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_GATEWAY_KEY_URI">SRA_WS_GATEWAY_KEY_URI</a></pre>
<pre> the identifier for the gateway uri in the mapping file
</pre>      </td>
    </tr>
    <tr>
      <td><pre>int </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_GATEWAY_ASYNC_REQUEST_TIMEOUT">SRA_WS_GATEWAY_ASYNC_REQUEST_TIMEOUT</a></pre>
<pre> the timeout threshold in minutes for an async request. when this threshold is
  reached and an invocation is made to retrieve the results of that request the
  status code SRA_WS_REQUEST_STATUS_TIMEOUT will be returned
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_GATEWAY_BUFFER_PREFIX">SRA_WS_GATEWAY_BUFFER_PREFIX</a></pre>
<pre> the prefix to use for silent buffer session variables and file names
</pre>      </td>
    </tr>
    <tr>
      <td><pre>int </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_GATEWAY_BUFFER_FILE_REMOVE">SRA_WS_GATEWAY_BUFFER_FILE_REMOVE</a></pre>
<pre> the number of minutes to keep an output buffer file
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_GATEWAY_MAPPING_FILE">SRA_WS_GATEWAY_MAPPING_FILE</a></pre>
<pre> the prefix of the name of the temp file containing the service mappings. this
  file name will be followed by the app identifier
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_GATEWAY_NOOP">SRA_WS_GATEWAY_NOOP</a></pre>
<pre> the name of the no-op web service. this is a generic service that can be used
  to validate login credentials and start sessions
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_VERSION_1_1">SRA_WS_VERSION_1_1</a></pre>
<pre> identifier for soap version 1.1
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WS_VERSION_1_2">SRA_WS_VERSION_1_2</a></pre>
<pre> identifier for soap version 1.2
</pre>      </td>
    </tr>
  </table>
  
  <h2 id="attrs">Class Attributes</h2>
  <table border="1" width="100%">
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__doc">_doc</a></pre>
<pre> if the request is for api or wsdl documentation, this attribute will
  represent which
</pre>      </td>
    </tr>
    <tr>
      <td><pre>boolean </pre></td>
      <td>
        <pre><a href="#attr__isSoap">_isSoap</a></pre>
<pre> TRUE if the request is soap
</pre>      </td>
    </tr>
    <tr>
      <td><pre><a href="model.SRA_WSRequest.html" target="contentFrame">SRA_WSRequest</a> </pre></td>
      <td>
        <pre><a href="#attr__request">_request</a></pre>
<pre> represents the request this gateway instance has been instantiated for
</pre>      </td>
    </tr>
    <tr>
      <td><pre><a href="model.SRA_WS.html" target="contentFrame">SRA_WS</a> </pre></td>
      <td>
        <pre><a href="#attr__service">_service</a></pre>
<pre> the service instance for this request
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr__sessionVar">_sessionVar</a></pre>
<pre> the session variable for this request
</pre>      </td>
    </tr>
  </table>

  <h2 id="methods">Class Methods</h2>
  <table border="1" width="100%">
    <tr>
      <td><pre>public void</pre></td>
      <td>
        <pre><a href="#method_SRA_WSGateway">SRA_WSGateway</a>(hash $params)</pre>
<pre> instantiates a new SRA_WSGateway instance to hande a web service request
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public void</pre></td>
      <td>
        <pre><a href="#method_printResponse">printResponse</a>()</pre>
<pre> renders the response from the web service request
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public boolean</pre></td>
      <td>
        <pre><a href="#method_process">process</a>()</pre>
<pre> processes the web service request. returns TRUE on success, FALSE if a
  system error occurs
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private void</pre></td>
      <td>
        <pre><a href="#method__bindDynamicParams">_bindDynamicParams</a>(hash $params)</pre>
<pre> binds any dynamic parameters in $params as documented in sra-ws-gateway.php
  and removes them from $params if they exist. invalid dynamic parameters
  will be logged and removed
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public boolean</pre></td>
      <td>
        <pre><a href="#method_cacheServices">cacheServices</a>(SRA_WS[] $services, string $gatewayUri, boolean $gatewayRewrite=FALSE, string $apiCssUri=NULL)</pre>
<pre> caches the serialized versions of the $services in a resources file indexed
  by service name. returns TRUE on success
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public string</pre></td>
      <td>
        <pre><a href="#method_getApiCssUri">getApiCssUri</a>()</pre>
<pre> returns the gateway api css uri (if applicable) for the active application
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public string</pre></td>
      <td>
        <pre><a href="#method_getApiUri">getApiUri</a>()</pre>
<pre> returns the api uri
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public string</pre></td>
      <td>
        <pre><a href="#method_getAppMappingFile">getAppMappingFile</a>()</pre>
<pre> returns the name of the current active application web services mapping
  file
 
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public string</pre></td>
      <td>
        <pre><a href="#method_getEntityUri">getEntityUri</a>()</pre>
<pre> returns the entity uri prefix
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public string</pre></td>
      <td>
        <pre><a href="#method_getGatewayUri">getGatewayUri</a>()</pre>
<pre> returns the gateway uri for the active application
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public mixed</pre></td>
      <td>
        <pre>&amp;<a href="#method_getService">getService</a>(string $id)</pre>
<pre> retrieves a reference to the service specified based on the current active
  platform or NULL if $id is not valid
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public mixed</pre></td>
      <td>
        <pre>&amp;<a href="#method_getServices">getServices</a>()</pre>
<pre> returns a reference to an array of SRA_WS and/or SRA_WSGlobal instances
  representing the services defined for the current application
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public string</pre></td>
      <td>
        <pre><a href="#method_getServiceApiUri">getServiceApiUri</a>(mixed $service)</pre>
<pre> returns the api uri for $service
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public string</pre></td>
      <td>
        <pre><a href="#method_getServiceWsdlUri">getServiceWsdlUri</a>(mixed $service)</pre>
<pre> returns the wsdl uri for $service
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public string</pre></td>
      <td>
        <pre><a href="#method_getWsdlUri">getWsdlUri</a>()</pre>
<pre> returns the wsdl uri
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public boolean</pre></td>
      <td>
        <pre><a href="#method_isGatewayRewrite">isGatewayRewrite</a>()</pre>
<pre> returns TRUE if rewrite rule is in place for the gateway uri
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public boolean</pre></td>
      <td>
        <pre><a href="#method_isValid">isValid</a>(object $object)</pre>
<pre> Sreturns true if the $object is a SRA_WSGateway instance
</pre>      </td>
    </tr>
    <tr>
      <td><pre>private array</pre></td>
      <td>
        <pre><a href="#method__convertSoapXml">_convertSoapXml</a>($xml)</pre>
<pre> converts a soap xml request so it is compliant with ws-request.dtd
</pre>      </td>
    </tr>
  </table>

  <h2 id="constant_details">Constant Details</h2>
  <a href="#top" style="float:right">Top</a>
  <h3 id="constant_SRA_WS_GATEWAY_DOC_TYPE_API">SRA_WS_GATEWAY_DOC_TYPE_API</h3>
  <pre>string <b>SRA_WS_GATEWAY_DOC_TYPE_API</b> = 'api'</pre>
  <pre> the identifier for the api doc type
</pre>
 <hr />  <h3 id="constant_SRA_WS_GATEWAY_DOC_TYPE_ENTITY">SRA_WS_GATEWAY_DOC_TYPE_ENTITY</h3>
  <pre>string <b>SRA_WS_GATEWAY_DOC_TYPE_ENTITY</b> = 'entity'</pre>
  <pre> the identifier for the entity doc type
</pre>
 <hr />  <h3 id="constant_SRA_WS_GATEWAY_DOC_TYPE_WSDL">SRA_WS_GATEWAY_DOC_TYPE_WSDL</h3>
  <pre>string <b>SRA_WS_GATEWAY_DOC_TYPE_WSDL</b> = 'wsdl'</pre>
  <pre> the identifier for the wsdl doc type
</pre>
 <hr />  <h3 id="constant_SRA_WS_GATEWAY_KEY_API_CSS_URI">SRA_WS_GATEWAY_KEY_API_CSS_URI</h3>
  <pre>string <b>SRA_WS_GATEWAY_KEY_API_CSS_URI</b> = '.api-css-uri'</pre>
  <pre> the identifier for the api css uri in the mapping file
</pre>
 <hr />  <h3 id="constant_SRA_WS_GATEWAY_KEY_REWRITE">SRA_WS_GATEWAY_KEY_REWRITE</h3>
  <pre>string <b>SRA_WS_GATEWAY_KEY_REWRITE</b> = '.gateway-rewrite'</pre>
  <pre> the identifier for the gateway rewrite flag in the mapping file
</pre>
 <hr />  <h3 id="constant_SRA_WS_GATEWAY_KEY_URI">SRA_WS_GATEWAY_KEY_URI</h3>
  <pre>string <b>SRA_WS_GATEWAY_KEY_URI</b> = '.gateway-uri'</pre>
  <pre> the identifier for the gateway uri in the mapping file
</pre>
 <hr />  <h3 id="constant_SRA_WS_GATEWAY_ASYNC_REQUEST_TIMEOUT">SRA_WS_GATEWAY_ASYNC_REQUEST_TIMEOUT</h3>
  <pre>int <b>SRA_WS_GATEWAY_ASYNC_REQUEST_TIMEOUT</b> = 5</pre>
  <pre> the timeout threshold in minutes for an async request. when this threshold is
  reached and an invocation is made to retrieve the results of that request the
  status code SRA_WS_REQUEST_STATUS_TIMEOUT will be returned
</pre>
 <hr />  <h3 id="constant_SRA_WS_GATEWAY_BUFFER_PREFIX">SRA_WS_GATEWAY_BUFFER_PREFIX</h3>
  <pre>string <b>SRA_WS_GATEWAY_BUFFER_PREFIX</b> = '.wsBuffer'</pre>
  <pre> the prefix to use for silent buffer session variables and file names
</pre>
 <hr />  <h3 id="constant_SRA_WS_GATEWAY_BUFFER_FILE_REMOVE">SRA_WS_GATEWAY_BUFFER_FILE_REMOVE</h3>
  <pre>int <b>SRA_WS_GATEWAY_BUFFER_FILE_REMOVE</b> = 1</pre>
  <pre> the number of minutes to keep an output buffer file
</pre>
 <hr />  <h3 id="constant_SRA_WS_GATEWAY_MAPPING_FILE">SRA_WS_GATEWAY_MAPPING_FILE</h3>
  <pre>string <b>SRA_WS_GATEWAY_MAPPING_FILE</b> = '.ws-'</pre>
  <pre> the prefix of the name of the temp file containing the service mappings. this
  file name will be followed by the app identifier
</pre>
 <hr />  <h3 id="constant_SRA_WS_GATEWAY_NOOP">SRA_WS_GATEWAY_NOOP</h3>
  <pre>string <b>SRA_WS_GATEWAY_NOOP</b> = 'wsnoop'</pre>
  <pre> the name of the no-op web service. this is a generic service that can be used
  to validate login credentials and start sessions
</pre>
 <hr />  <h3 id="constant_SRA_WS_VERSION_1_1">SRA_WS_VERSION_1_1</h3>
  <pre>string <b>SRA_WS_VERSION_1_1</b> = '11'</pre>
  <pre> identifier for soap version 1.1
</pre>
 <hr />  <h3 id="constant_SRA_WS_VERSION_1_2">SRA_WS_VERSION_1_2</h3>
  <pre>string <b>SRA_WS_VERSION_1_2</b> = '12'</pre>
  <pre> identifier for soap version 1.2
</pre>

  <h2 id="attr_details">Attribute Details</h2>
  <a href="#top" style="float:right">Top</a>
  <h3 id="attr__doc">_doc</h3>
  <pre>string var <b>$_doc</b></pre>
  <pre> if the request is for api or wsdl documentation, this attribute will
  represent which
</pre>
 <hr />  <h3 id="attr__isSoap">_isSoap</h3>
  <pre>boolean var <b>$_isSoap</b> = FALSE</pre>
  <pre> TRUE if the request is soap
</pre>
 <hr />  <h3 id="attr__request">_request</h3>
  <pre><a href="model.SRA_WSRequest.html" target="contentFrame">SRA_WSRequest</a> var <b>$_request</b></pre>
  <pre> represents the request this gateway instance has been instantiated for
</pre>
 <hr />  <h3 id="attr__service">_service</h3>
  <pre><a href="model.SRA_WS.html" target="contentFrame">SRA_WS</a> var <b>$_service</b></pre>
  <pre> the service instance for this request
</pre>
 <hr />  <h3 id="attr__sessionVar">_sessionVar</h3>
  <pre>string var <b>$_sessionVar</b></pre>
  <pre> the session variable for this request
</pre>

  <h2 id="method_details">Method Details</h2>
  <a href="#top" style="float:right">Top</a>
  <h3 id="method_SRA_WSGateway">SRA_WSGateway</h3>
  <pre>public void function <b>SRA_WSGateway</b>(hash $params)</pre>
  <pre> instantiates a new SRA_WSGateway instance to hande a web service request
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>params</td>
      <td>hash</td>
      <td><pre>the request parameters. these are documented in  sra-ws-gateway.php</pre></td>
      <td>None</td>
      <td>Yes</td>
    </tr>
  </table>
 <hr />  <h3 id="method_printResponse">printResponse</h3>
  <pre>public void function <b>printResponse</b>()</pre>
  <pre> renders the response from the web service request
</pre>
 <hr />  <h3 id="method_process">process</h3>
  <pre>public boolean function <b>process</b>()</pre>
  <pre> processes the web service request. returns TRUE on success, FALSE if a
  system error occurs
</pre>
 <hr />  <h3 id="method__bindDynamicParams">_bindDynamicParams</h3>
  <pre>private void function <b>_bindDynamicParams</b>(hash $params)</pre>
  <pre> binds any dynamic parameters in $params as documented in sra-ws-gateway.php
  and removes them from $params if they exist. invalid dynamic parameters
  will be logged and removed
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>params</td>
      <td>hash</td>
      <td><pre>the request parameters</pre></td>
      <td>None</td>
      <td>Yes</td>
    </tr>
  </table>
 <hr />  <h3 id="method_cacheServices">cacheServices</h3>
  <pre>public boolean function <b>cacheServices</b>(SRA_WS[] $services, string $gatewayUri, boolean $gatewayRewrite=FALSE, string $apiCssUri=NULL)</pre>
  <pre> caches the serialized versions of the $services in a resources file indexed
  by service name. returns TRUE on success
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>services</td>
      <td>SRA_WS[]</td>
      <td><pre>the services to cache</pre></td>
      <td>None</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>gatewayUri</td>
      <td>string</td>
      <td><pre>the uri to sra-ws-gateway.php</pre></td>
      <td>None</td>
      <td>No</td>
    </tr>
    <tr>
      <td>gatewayRewrite</td>
      <td>boolean</td>
      <td><pre>whether or not a rewrite rule is in place  for $gatewayUri</pre></td>
      <td>FALSE</td>
      <td>No</td>
    </tr>
    <tr>
      <td>apiCssUri</td>
      <td>string</td>
      <td><pre>the uri to the css for web service api  documentation</pre></td>
      <td>NULL</td>
      <td>No</td>
    </tr>
  </table>
 <hr />  <h3 id="method_getApiCssUri">getApiCssUri</h3>
  <pre>public string function <b>getApiCssUri</b>()</pre>
  <pre> returns the gateway api css uri (if applicable) for the active application
</pre>
 <hr />  <h3 id="method_getApiUri">getApiUri</h3>
  <pre>public string function <b>getApiUri</b>()</pre>
  <pre> returns the api uri
</pre>
 <hr />  <h3 id="method_getAppMappingFile">getAppMappingFile</h3>
  <pre>public string function <b>getAppMappingFile</b>()</pre>
  <pre> returns the name of the current active application web services mapping
  file
 
</pre>
 <hr />  <h3 id="method_getEntityUri">getEntityUri</h3>
  <pre>public string function <b>getEntityUri</b>()</pre>
  <pre> returns the entity uri prefix
</pre>
 <hr />  <h3 id="method_getGatewayUri">getGatewayUri</h3>
  <pre>public string function <b>getGatewayUri</b>()</pre>
  <pre> returns the gateway uri for the active application
</pre>
 <hr />  <h3 id="method_getService">getService</h3>
  <pre>public mixed function &amp;<b>getService</b>(string $id)</pre>
  <pre> retrieves a reference to the service specified based on the current active
  platform or NULL if $id is not valid
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>id</td>
      <td>string</td>
      <td><pre>the identifier of the service to return</pre></td>
      <td>None</td>
      <td>No</td>
    </tr>
  </table>
 <hr />  <h3 id="method_getServices">getServices</h3>
  <pre>public mixed function &amp;<b>getServices</b>()</pre>
  <pre> returns a reference to an array of SRA_WS and/or SRA_WSGlobal instances
  representing the services defined for the current application
</pre>
 <hr />  <h3 id="method_getServiceApiUri">getServiceApiUri</h3>
  <pre>public string function <b>getServiceApiUri</b>(mixed $service)</pre>
  <pre> returns the api uri for $service
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>service</td>
      <td>mixed</td>
      <td><pre>the SRA_WS or SRA_WSGlobal to return the api uri for</pre></td>
      <td>None</td>
      <td>Yes</td>
    </tr>
  </table>
 <hr />  <h3 id="method_getServiceWsdlUri">getServiceWsdlUri</h3>
  <pre>public string function <b>getServiceWsdlUri</b>(mixed $service)</pre>
  <pre> returns the wsdl uri for $service
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>service</td>
      <td>mixed</td>
      <td><pre>the SRA_WS or SRA_WSGlobal to return the api uri for</pre></td>
      <td>None</td>
      <td>Yes</td>
    </tr>
  </table>
 <hr />  <h3 id="method_getWsdlUri">getWsdlUri</h3>
  <pre>public string function <b>getWsdlUri</b>()</pre>
  <pre> returns the wsdl uri
</pre>
 <hr />  <h3 id="method_isGatewayRewrite">isGatewayRewrite</h3>
  <pre>public boolean function <b>isGatewayRewrite</b>()</pre>
  <pre> returns TRUE if rewrite rule is in place for the gateway uri
</pre>
 <hr />  <h3 id="method_isValid">isValid</h3>
  <pre>public boolean function <b>isValid</b>(object $object)</pre>
  <pre> Sreturns true if the $object is a SRA_WSGateway instance
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>object</td>
      <td>object</td>
      <td><pre>$object the object to validate</pre></td>
      <td>None</td>
      <td>Yes</td>
    </tr>
  </table>
 <hr />  <h3 id="method__convertSoapXml">_convertSoapXml</h3>
  <pre>private array function <b>_convertSoapXml</b>($xml)</pre>
  <pre> converts a soap xml request so it is compliant with ws-request.dtd
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>xml</td>
      <td>Not Specified</td>
      <td><pre>No API comments</pre></td>
      <td>None</td>
      <td>No</td>
    </tr>
  </table>
  
  <h2>Other Information</h2>
  <table id="other" border="1" width="100%">
  <tr>
    <th>Source File</th>
    <td>/home/jread/www/sierra/lib/model/SRA_WSGateway.php</td>
  </tr>
  <tr>
    <th>author</th>
    <td>Jason Read &lt;jason@idir.org&gt;</td>
  </tr>
  </table>
  </form>
</body>
</html>