<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>workflow.SRA_Workflow - sierra-php v1.1.3</title>
<script type="text/javascript">
<!--
var _qsAbortNext = false;
var _tipsIdx = 0;
var _tipIds;

function clearQsTips() {
  document.getElementById('quicksearch_tips').innerHTML = '';
}
function hideQsTips() {
  setTimeout("document.getElementById('quicksearch_tips').style.display = 'none'", 100);
}
function showQsTips() {
  document.getElementById('quicksearch_tips').style.display = '';
}
function qsTipsVisible() {
  return document.getElementById('quicksearch_tips').style.display != 'none';
}
function updateQsTips(evt) {
  if (qsTipsVisible() && evt && (evt.keyCode == 40 || evt.keyCode == 38 || evt.keyCode == 13)) {
    switch(evt.keyCode) {
      // up
      case 38:
      // down
      case 40:
        if (_tipsIdx >= 0) document.getElementById(_tipIds[_tipsIdx]).style.backgroundColor = '';
        evt.keyCode == 38 ? _tipsIdx-- : _tipsIdx++;
        if (_tipsIdx > _tipIds.length) _tipsIdx = 0;
        if (_tipsIdx < 0) _tipsIdx = _tipIds.length - 1;
        if (_tipsIdx >= 0) document.getElementById(_tipIds[_tipsIdx]).style.backgroundColor = '#ddd';
        break;
      // enter
      case 13:
        if (_tipsIdx >= 0 && _tipIds[_tipsIdx]) {
          document.location.replace('#' + _tipIds[_tipsIdx].substr(3));
        }
        break;
    }
    return;
  }
  
  _tipsIdx = -1;
  _tipIds = [];
  var str = document.getElementById('quicksearch').value.toLowerCase();
  var matches = {}
  var match = false;
  
  if (str) {
  // check constants
  if ("sra_workflow_user_key_type_get".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WORKFLOW_USER_KEY_TYPE_GET'] = "SRA_WORKFLOW_USER_KEY_TYPE_GET";
  }
  if ("sra_workflow_user_key_type_global".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WORKFLOW_USER_KEY_TYPE_GLOBAL'] = "SRA_WORKFLOW_USER_KEY_TYPE_GLOBAL";
  }
  if ("sra_workflow_user_key_type_post".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WORKFLOW_USER_KEY_TYPE_POST'] = "SRA_WORKFLOW_USER_KEY_TYPE_POST";
  }
  if ("sra_workflow_user_key_type_session".indexOf(str) != -1) {
    match = true;
    matches['qs_constant_SRA_WORKFLOW_USER_KEY_TYPE_SESSION'] = "SRA_WORKFLOW_USER_KEY_TYPE_SESSION";
  }

  // check attributes
  if ("cascadedelete".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_cascadeDelete'] = "cascadeDelete";
  }
  if ("duedate".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_dueDate'] = "dueDate";
  }
  if ("name".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_name'] = "name";
  }
  if ("notify".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_notify'] = "notify";
  }
  if ("notifybcc".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_notifyBcc'] = "notifyBcc";
  }
  if ("notifycc".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_notifyCc'] = "notifyCc";
  }
  if ("notifyfrom".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_notifyFrom'] = "notifyFrom";
  }
  if ("notifysubject".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_notifySubject'] = "notifySubject";
  }
  if ("notifytpl".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_notifyTpl'] = "notifyTpl";
  }
  if ("notifytplhtml".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_notifyTplHtml'] = "notifyTplHtml";
  }
  if ("params".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_params'] = "params";
  }
  if ("resources".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_resources'] = "resources";
  }
  if ("roleattr".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_roleAttr'] = "roleAttr";
  }
  if ("roleattrdispl".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_roleAttrDispl'] = "roleAttrDispl";
  }
  if ("roleattrmembers".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_roleAttrMembers'] = "roleAttrMembers";
  }
  if ("roleentity".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_roleEntity'] = "roleEntity";
  }
  if ("start".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_start'] = "start";
  }
  if ("steps".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_steps'] = "steps";
  }
  if ("tasks".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_tasks'] = "tasks";
  }
  if ("userattr".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_userAttr'] = "userAttr";
  }
  if ("userattrdispl".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_userAttrDispl'] = "userAttrDispl";
  }
  if ("userattremail".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_userAttrEmail'] = "userAttrEmail";
  }
  if ("userentity".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_userEntity'] = "userEntity";
  }
  if ("userkey".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_userKey'] = "userKey";
  }
  if ("userkeytype".indexOf(str) != -1) {
    match = true;
    matches['qs_attr_userKeyType'] = "userKeyType";
  }

  // check methods
  if ("sra_workflow".indexOf(str) != -1) {
    match = true;
    matches['qs_method_SRA_Workflow'] = "SRA_Workflow";
  }
  if ("isvalid".indexOf(str) != -1) {
    match = true;
    matches['qs_method_isValid'] = "isValid";
  }

  // check classes
  if ("sra_workflow".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_Workflow'] = "SRA_Workflow";
  }
  if ("sra_workflowconstraint".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowConstraint'] = "SRA_WorkflowConstraint";
  }
  if ("sra_workflowconstraintgroup".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowConstraintGroup'] = "SRA_WorkflowConstraintGroup";
  }
  if ("sra_workflowdecision".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowDecision'] = "SRA_WorkflowDecision";
  }
  if ("sra_workflowmanager".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowManager'] = "SRA_WorkflowManager";
  }
  if ("sra_workflowstep".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowStep'] = "SRA_WorkflowStep";
  }
  if ("sra_workflowtask".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowTask'] = "SRA_WorkflowTask";
  }


  // check dtds
  if ("workflow.dtd".indexOf(str) != -1) {
    match = true;
    matches['qs_dtd_workflow.dtd'] = "workflow.dtd";
  }

  // check packages
  if ("etc".indexOf(str) != -1) {
    match = true;
    matches['qs_package_etc'] = "etc";
  }
  if ("etc.l10n".indexOf(str) != -1) {
    match = true;
    matches['qs_package_etc.l10n'] = "etc.l10n";
  }
  if ("auth".indexOf(str) != -1) {
    match = true;
    matches['qs_package_auth'] = "auth";
  }
  if ("core".indexOf(str) != -1) {
    match = true;
    matches['qs_package_core'] = "core";
  }
  if ("model".indexOf(str) != -1) {
    match = true;
    matches['qs_package_model'] = "model";
  }
  if ("sql".indexOf(str) != -1) {
    match = true;
    matches['qs_package_sql'] = "sql";
  }
  if ("test".indexOf(str) != -1) {
    match = true;
    matches['qs_package_test'] = "test";
  }
  if ("util".indexOf(str) != -1) {
    match = true;
    matches['qs_package_util'] = "util";
  }
  if ("util.installer".indexOf(str) != -1) {
    match = true;
    matches['qs_package_util.installer'] = "util.installer";
  }
  if ("util.l10n".indexOf(str) != -1) {
    match = true;
    matches['qs_package_util.l10n'] = "util.l10n";
  }
  if ("workflow".indexOf(str) != -1) {
    match = true;
    matches['qs_package_workflow'] = "workflow";
  }


  }
  
  if (match) {
    var html = '';
    for(var i in matches) {
      _tipIds.push(i);
      html += '<div id="' + i + '" style="background-color: white; cursor: pointer;" onclick="document.location.replace(\'#\' + this.id.substr(3))">' + matches[i] + '</div>\n';
    }
    document.getElementById('quicksearch_tips').innerHTML = html;
    showQsTips();
  }
  else {
    hideQsTips();
  }
}
-->
</script></head>
<body id="class" onload="document.getElementById('quicksearch').onkeyup = updateQsTips; document.getElementById('quicksearch').focus()">
  <h1 id="top">class SRA_Workflow</h1>
<p>&nbsp;&nbsp;&nbsp;&nbsp;package <a href="../packages/workflow.html" target="contentFrame">workflow</a></p>  <hr />
  <form onsubmit="return false">
  
  <div style="float:right">
    <b><label for="quicksearch">Quick Search:</label></b><br />
    <input id="quicksearch" type="text" onfocus="clearQsTips()" onblur="hideQsTips()" autocomplete="off" onclick="this.select()" /><br />
    <div id="quicksearch_tips" style="border: 1px solid #333; position:absolute; display:none"></div>
  </div>
  
  <pre>class SRA_Workflow</pre>
  
  <h2>Class Information</h2>
  <ul>
    <li><a href="#comments">Class Comments</a></li>
    <li><a href="#constants">Constants</a></li>
    <li><a href="#constant_details">Constant Details</a></li>
    <li><a href="#attrs">Attributes</a></li>
    <li><a href="#attr_details">Attribute Details</a></li>
    <li><a href="#methods">Methods</a></li>
    <li><a href="#method_details">Method Details</a></li>
    <li><a href="#other">Other</a></li>
  </ul>
  
  <h2 id="comments">Comment</h2>
  <pre> contains all of the steps associated with the workflow as well as a start
  step designator. at least 1 step or task must be defined for a workflow to be
  valid
 
</pre>
  
  <h2 id="constants">Class Constants</h2>
  <table border="1" width="100%">
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WORKFLOW_USER_KEY_TYPE_GET">SRA_WORKFLOW_USER_KEY_TYPE_GET</a></pre>
<pre> value for &quot;userKeyType&quot; identifying that the user identifier may be found
  within the get headers ($_GET)
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WORKFLOW_USER_KEY_TYPE_GLOBAL">SRA_WORKFLOW_USER_KEY_TYPE_GLOBAL</a></pre>
<pre> value for &quot;userKeyType&quot; identifying that the active user/user identifier may
  be found within the global scope ($_GLOBALS)
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WORKFLOW_USER_KEY_TYPE_POST">SRA_WORKFLOW_USER_KEY_TYPE_POST</a></pre>
<pre> value for &quot;userKeyType&quot; identifying that the user identifier may be found
  within the post headers ($_POST)
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#constant_SRA_WORKFLOW_USER_KEY_TYPE_SESSION">SRA_WORKFLOW_USER_KEY_TYPE_SESSION</a></pre>
<pre> value for &quot;userKeyType&quot; identifying that the active user/user identifier may
  be found within the session scope ($_SESSION)
</pre>      </td>
    </tr>
  </table>
  
  <h2 id="attrs">Class Attributes</h2>
  <table border="1" width="100%">
    <tr>
      <td><pre>boolean </pre></td>
      <td>
        <pre><a href="#attr_cascadeDelete">cascadeDelete</a></pre>
<pre> whether or not to cascade deletions to any entities belonging to this
  workflow. this does not pertain to non-committed  entities. the default
  behavior is to not cascade delete
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_dueDate">dueDate</a></pre>
<pre> an explicit date or relative date expression. explicit dates should be
  entered in the format &quot;YYYY-MM-DD HH:MM:SS&quot; (time is optional). relative
  expressions utilize the same format except that any of the date values
  (YYYY, MM, DD, HH, MM, or SS) may be replaced with a relative modifier in
  the format &quot;+n&quot; where n is the increase from the current timestamp. For
  example, to specify the 1st of the following month, the dueDate would be:
  &quot;+0-+1-01&quot; - where +0 signifies the current year, and +1 signifies the
  following month. if the current month was december (12), the following
  month will be January and the year will be incremented automatically.
  Another example: to specify exactly one week from the current time,
  dueDate would be &quot;+0-+0-+7&quot; - where the first +0 signifies the current
  year, the second +0 signifies the current month, and +7 signifies 7 days
  from the current date. month and year rollovers resulting in the 1 week
  jump will be automatically applied (for example, if the workflow is created
  on 12/28). negative increments can be applied by enclosing the increment
  value &quot;n&quot; in parenthesis. for example, to specify 1 month minus 1 week from
  the current date, dueDate would be: &quot;+0-+1-+(7)&quot;. the increment value &quot;n&quot;
  may also be an workflow parameter using the format &quot;${param name}
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_name">name</a></pre>
<pre> the name of this workflow as determined by the workflow &quot;resource&quot;
</pre>      </td>
    </tr>
    <tr>
      <td><pre>boolean </pre></td>
      <td>
        <pre><a href="#attr_notify">notify</a></pre>
<pre> whether or not email notifications will be used by this workflow. if
  specified, both &quot;notify-subject&quot; and &quot;notify-tpl&quot; must also be specified
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_notifyBcc">notifyBcc</a></pre>
<pre> optional comma separated list of blind carbon copy recipients for all
  workflow notifications. these will be used for the 1st notification sent
  only. only applicable when at least 1 notification is being sent
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_notifyCc">notifyCc</a></pre>
<pre> optional comma separated list of carbon copy recipients for all workflow
  notifications. these will be used for the 1st notification sent only. only
  applicable when at least 1 notification is being sent
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_notifyFrom">notifyFrom</a></pre>
<pre> the notification return email address. if not specified, the web server
  process user name will be used (i.e. apache@myserver.com). both a name and
  email address may be specified using the format: &quot;[email] &lt;[name]&gt;&quot;
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_notifySubject">notifySubject</a></pre>
<pre> the localized email notification subject for this workflow
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_notifyTpl">notifyTpl</a></pre>
<pre> the text email notification template. this template will have access to the
  following dynamic workflow variables:
   $wfResources: the merged SRA_ResourceBundle object
   $wfWorkflow: the SraWorkflow instance
   $wfStep: the SraWorkflowStep instance (when applicable)
   $wfTask: the SraWorkflowTask instance
   $wfSetup: the SRA_Workflow (configuration) instance
   $wfStepSetup: the SRA_WorkflowStep (configuration) instance  (when
   applicable)
   $wfTaskSetup: the SRA_WorkflowTask (configuration) instance
   $wf_{entity-id}: entities currently associated with the workflow
   $wfUser: the &quot;user-entity&quot; reference for the notification
  must be specified if &quot;notify&quot; is true
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_notifyTplHtml">notifyTplHtml</a></pre>
<pre> same as notifyTpl but specifies an html formatted email message template.
  either notifyTpl or notifyTplHtml MUST be specified when notifications
  are active for a workflow. if both are specified, the emails sent will be
  multipart mime formatted
</pre>      </td>
    </tr>
    <tr>
      <td><pre>array </pre></td>
      <td>
        <pre><a href="#attr_params">params</a></pre>
<pre> used to define implementation/front-end specified values. they are not used
  within the lib/workflow system itself. they may be accessed within the
  SRA_Workflow/SRA_WorkflowStep::params associative array attribute
</pre>      </td>
    </tr>
    <tr>
      <td><pre><a href="util.l10n.SRA_ResourceBundle.html" target="contentFrame">SRA_ResourceBundle</a> </pre></td>
      <td>
        <pre><a href="#attr_resources">resources</a></pre>
<pre> a merged SRA_ResourceBundle representing all of the resources files
  specified for this workflow
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_roleAttr">roleAttr</a></pre>
<pre> same as userAttr for workflow roles
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_roleAttrDispl">roleAttrDispl</a></pre>
<pre> same as userAttrDispl for workflow roles
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_roleAttrMembers">roleAttrMembers</a></pre>
<pre> the name of the attribute within roleEntity that specifies the users that
  are members of that role. this attribute may be either an array of user
  identifiers (based on userAttr) or an array of userEntity references. this
  attribute is required when &quot;roleEntity&quot; is specified
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_roleEntity">roleEntity</a></pre>
<pre> same as userEntity for workflow roles. if not specified, roles CANNOT be
  used within steps/tasks for this workflow
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_start">start</a></pre>
<pre> the id of the starting workflow step. this attribute is required when steps
  are defined for the workflow
</pre>      </td>
    </tr>
    <tr>
      <td><pre>SRA_WorkflowStep[] </pre></td>
      <td>
        <pre><a href="#attr_steps">steps</a></pre>
<pre> the steps associated with this workflow indexed by the step id
</pre>      </td>
    </tr>
    <tr>
      <td><pre>SRA_WorkflowTask[] </pre></td>
      <td>
        <pre><a href="#attr_tasks">tasks</a></pre>
<pre> the tasks assigned to this workflow index by task id. these are global
  tasks that do not pertain to any specific step
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_userAttr">userAttr</a></pre>
<pre> the name of the attribute within the user object that should be used within
  the workflow as the user identifier. this attribute will also be used to
  lookup the user object when userKey returns a scalar value (using the dao
  findBySqlConstraints or findByPk methods). if this attribute is not
  specified, it will be assumed that the userKey is the userEntity primary
  key attribute
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_userAttrDispl">userAttrDispl</a></pre>
<pre> if an attribute other than userAttr should be used as the display value,
  this attribute specifies the name of that attribute within userEntity. for
  example, if userAttr is the primary key (a numeric value), and you would
  like the user attribute &quot;name&quot; to be displayed instead of the numeric
  primary key, this attribute value would be &quot;name&quot;
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_userAttrEmail">userAttrEmail</a></pre>
<pre> the attribute within userEntity containing the user&#039;s email address. the
  email address is used for notifications. this attribute is required if
  &quot;notify&quot; is true
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_userEntity">userEntity</a></pre>
<pre> the name of the entity within the application this workflow is a part of,
  that represents users. this attribute is required
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_userKey">userKey</a></pre>
<pre> when an instance of this workflow is created, the current active user is
  automatically assigned ownership of it. all interractive tasks that are
  then created for the workflow and do not specify alternative assignment
  (using the &quot;user&quot; and/or &quot;role&quot; attribute) will be automatically assigned
  to this workflow owner. this value specifies the name of the value within
  the &quot;user-key-type&quot; context that a reference to the active user object (an
  instance of userEntity). this attribute is required
</pre>      </td>
    </tr>
    <tr>
      <td><pre>string </pre></td>
      <td>
        <pre><a href="#attr_userKeyType">userKeyType</a></pre>
<pre> where the active user object is stored. this may be any of the following:
   session: within the session scope ($_SESSION)
   global:  within the global scope ($_GLOBALS)
   get:     within the get headers ($_GET)
   post:    within the post headers ($_POST)
  if the value is scalar it will be assumed to be the user identifier as
  specified through userAttr. this attribute is required. the constants
  SRA_WORKFLOW_USER_KEY_TYPE_* represent each of the 4 possible options for
  this attribute
</pre>      </td>
    </tr>
  </table>

  <h2 id="methods">Class Methods</h2>
  <table border="1" width="100%">
    <tr>
      <td><pre>public void</pre></td>
      <td>
        <pre><a href="#method_SRA_Workflow">SRA_Workflow</a>(array $conf)</pre>
<pre> parses the workflow configuration data and sets the appropriate instance
  variables. if there is a problem with the configuration, the instance
  variable &quot;err&quot; will be assigned to an appropriate error object (the error
  will be logged)
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public boolean</pre></td>
      <td>
        <pre><a href="#method_isValid">isValid</a>(Object $object)</pre>
<pre> Static method that returns true if the object parameter is a SRA_Workflow object.
 
</pre>      </td>
    </tr>
  </table>

  <h2 id="constant_details">Constant Details</h2>
  <a href="#top" style="float:right">Top</a>
  <h3 id="constant_SRA_WORKFLOW_USER_KEY_TYPE_GET">SRA_WORKFLOW_USER_KEY_TYPE_GET</h3>
  <pre>string <b>SRA_WORKFLOW_USER_KEY_TYPE_GET</b> = 'get'</pre>
  <pre> value for &quot;userKeyType&quot; identifying that the user identifier may be found
  within the get headers ($_GET)
</pre>
 <hr />  <h3 id="constant_SRA_WORKFLOW_USER_KEY_TYPE_GLOBAL">SRA_WORKFLOW_USER_KEY_TYPE_GLOBAL</h3>
  <pre>string <b>SRA_WORKFLOW_USER_KEY_TYPE_GLOBAL</b> = 'global'</pre>
  <pre> value for &quot;userKeyType&quot; identifying that the active user/user identifier may
  be found within the global scope ($_GLOBALS)
</pre>
 <hr />  <h3 id="constant_SRA_WORKFLOW_USER_KEY_TYPE_POST">SRA_WORKFLOW_USER_KEY_TYPE_POST</h3>
  <pre>string <b>SRA_WORKFLOW_USER_KEY_TYPE_POST</b> = 'post'</pre>
  <pre> value for &quot;userKeyType&quot; identifying that the user identifier may be found
  within the post headers ($_POST)
</pre>
 <hr />  <h3 id="constant_SRA_WORKFLOW_USER_KEY_TYPE_SESSION">SRA_WORKFLOW_USER_KEY_TYPE_SESSION</h3>
  <pre>string <b>SRA_WORKFLOW_USER_KEY_TYPE_SESSION</b> = 'session'</pre>
  <pre> value for &quot;userKeyType&quot; identifying that the active user/user identifier may
  be found within the session scope ($_SESSION)
</pre>

  <h2 id="attr_details">Attribute Details</h2>
  <a href="#top" style="float:right">Top</a>
  <h3 id="attr_cascadeDelete">cascadeDelete</h3>
  <pre>boolean var <b>$cascadeDelete</b></pre>
  <pre> whether or not to cascade deletions to any entities belonging to this
  workflow. this does not pertain to non-committed  entities. the default
  behavior is to not cascade delete
</pre>
 <hr />  <h3 id="attr_dueDate">dueDate</h3>
  <pre>string var <b>$dueDate</b></pre>
  <pre> an explicit date or relative date expression. explicit dates should be
  entered in the format &quot;YYYY-MM-DD HH:MM:SS&quot; (time is optional). relative
  expressions utilize the same format except that any of the date values
  (YYYY, MM, DD, HH, MM, or SS) may be replaced with a relative modifier in
  the format &quot;+n&quot; where n is the increase from the current timestamp. For
  example, to specify the 1st of the following month, the dueDate would be:
  &quot;+0-+1-01&quot; - where +0 signifies the current year, and +1 signifies the
  following month. if the current month was december (12), the following
  month will be January and the year will be incremented automatically.
  Another example: to specify exactly one week from the current time,
  dueDate would be &quot;+0-+0-+7&quot; - where the first +0 signifies the current
  year, the second +0 signifies the current month, and +7 signifies 7 days
  from the current date. month and year rollovers resulting in the 1 week
  jump will be automatically applied (for example, if the workflow is created
  on 12/28). negative increments can be applied by enclosing the increment
  value &quot;n&quot; in parenthesis. for example, to specify 1 month minus 1 week from
  the current date, dueDate would be: &quot;+0-+1-+(7)&quot;. the increment value &quot;n&quot;
  may also be an workflow parameter using the format &quot;${param name}
</pre>
 <hr />  <h3 id="attr_name">name</h3>
  <pre>string var <b>$name</b></pre>
  <pre> the name of this workflow as determined by the workflow &quot;resource&quot;
</pre>
 <hr />  <h3 id="attr_notify">notify</h3>
  <pre>boolean var <b>$notify</b></pre>
  <pre> whether or not email notifications will be used by this workflow. if
  specified, both &quot;notify-subject&quot; and &quot;notify-tpl&quot; must also be specified
</pre>
 <hr />  <h3 id="attr_notifyBcc">notifyBcc</h3>
  <pre>string var <b>$notifyBcc</b></pre>
  <pre> optional comma separated list of blind carbon copy recipients for all
  workflow notifications. these will be used for the 1st notification sent
  only. only applicable when at least 1 notification is being sent
</pre>
 <hr />  <h3 id="attr_notifyCc">notifyCc</h3>
  <pre>string var <b>$notifyCc</b></pre>
  <pre> optional comma separated list of carbon copy recipients for all workflow
  notifications. these will be used for the 1st notification sent only. only
  applicable when at least 1 notification is being sent
</pre>
 <hr />  <h3 id="attr_notifyFrom">notifyFrom</h3>
  <pre>string var <b>$notifyFrom</b></pre>
  <pre> the notification return email address. if not specified, the web server
  process user name will be used (i.e. apache@myserver.com). both a name and
  email address may be specified using the format: &quot;[email] &lt;[name]&gt;&quot;
</pre>
 <hr />  <h3 id="attr_notifySubject">notifySubject</h3>
  <pre>string var <b>$notifySubject</b></pre>
  <pre> the localized email notification subject for this workflow
</pre>
 <hr />  <h3 id="attr_notifyTpl">notifyTpl</h3>
  <pre>string var <b>$notifyTpl</b></pre>
  <pre> the text email notification template. this template will have access to the
  following dynamic workflow variables:
   $wfResources: the merged SRA_ResourceBundle object
   $wfWorkflow: the SraWorkflow instance
   $wfStep: the SraWorkflowStep instance (when applicable)
   $wfTask: the SraWorkflowTask instance
   $wfSetup: the SRA_Workflow (configuration) instance
   $wfStepSetup: the SRA_WorkflowStep (configuration) instance  (when
   applicable)
   $wfTaskSetup: the SRA_WorkflowTask (configuration) instance
   $wf_{entity-id}: entities currently associated with the workflow
   $wfUser: the &quot;user-entity&quot; reference for the notification
  must be specified if &quot;notify&quot; is true
</pre>
 <hr />  <h3 id="attr_notifyTplHtml">notifyTplHtml</h3>
  <pre>string var <b>$notifyTplHtml</b></pre>
  <pre> same as notifyTpl but specifies an html formatted email message template.
  either notifyTpl or notifyTplHtml MUST be specified when notifications
  are active for a workflow. if both are specified, the emails sent will be
  multipart mime formatted
</pre>
 <hr />  <h3 id="attr_params">params</h3>
  <pre>array var <b>$params</b> = array()</pre>
  <pre> used to define implementation/front-end specified values. they are not used
  within the lib/workflow system itself. they may be accessed within the
  SRA_Workflow/SRA_WorkflowStep::params associative array attribute
</pre>
 <hr />  <h3 id="attr_resources">resources</h3>
  <pre><a href="util.l10n.SRA_ResourceBundle.html" target="contentFrame">SRA_ResourceBundle</a> var <b>$resources</b></pre>
  <pre> a merged SRA_ResourceBundle representing all of the resources files
  specified for this workflow
</pre>
 <hr />  <h3 id="attr_roleAttr">roleAttr</h3>
  <pre>string var <b>$roleAttr</b></pre>
  <pre> same as userAttr for workflow roles
</pre>
 <hr />  <h3 id="attr_roleAttrDispl">roleAttrDispl</h3>
  <pre>string var <b>$roleAttrDispl</b></pre>
  <pre> same as userAttrDispl for workflow roles
</pre>
 <hr />  <h3 id="attr_roleAttrMembers">roleAttrMembers</h3>
  <pre>string var <b>$roleAttrMembers</b></pre>
  <pre> the name of the attribute within roleEntity that specifies the users that
  are members of that role. this attribute may be either an array of user
  identifiers (based on userAttr) or an array of userEntity references. this
  attribute is required when &quot;roleEntity&quot; is specified
</pre>
 <hr />  <h3 id="attr_roleEntity">roleEntity</h3>
  <pre>string var <b>$roleEntity</b></pre>
  <pre> same as userEntity for workflow roles. if not specified, roles CANNOT be
  used within steps/tasks for this workflow
</pre>
 <hr />  <h3 id="attr_start">start</h3>
  <pre>string var <b>$start</b></pre>
  <pre> the id of the starting workflow step. this attribute is required when steps
  are defined for the workflow
</pre>
 <hr />  <h3 id="attr_steps">steps</h3>
  <pre>SRA_WorkflowStep[] var <b>$steps</b> = array()</pre>
  <pre> the steps associated with this workflow indexed by the step id
</pre>
 <hr />  <h3 id="attr_tasks">tasks</h3>
  <pre>SRA_WorkflowTask[] var <b>$tasks</b> = array()</pre>
  <pre> the tasks assigned to this workflow index by task id. these are global
  tasks that do not pertain to any specific step
</pre>
 <hr />  <h3 id="attr_userAttr">userAttr</h3>
  <pre>string var <b>$userAttr</b></pre>
  <pre> the name of the attribute within the user object that should be used within
  the workflow as the user identifier. this attribute will also be used to
  lookup the user object when userKey returns a scalar value (using the dao
  findBySqlConstraints or findByPk methods). if this attribute is not
  specified, it will be assumed that the userKey is the userEntity primary
  key attribute
</pre>
 <hr />  <h3 id="attr_userAttrDispl">userAttrDispl</h3>
  <pre>string var <b>$userAttrDispl</b></pre>
  <pre> if an attribute other than userAttr should be used as the display value,
  this attribute specifies the name of that attribute within userEntity. for
  example, if userAttr is the primary key (a numeric value), and you would
  like the user attribute &quot;name&quot; to be displayed instead of the numeric
  primary key, this attribute value would be &quot;name&quot;
</pre>
 <hr />  <h3 id="attr_userAttrEmail">userAttrEmail</h3>
  <pre>string var <b>$userAttrEmail</b></pre>
  <pre> the attribute within userEntity containing the user&#039;s email address. the
  email address is used for notifications. this attribute is required if
  &quot;notify&quot; is true
</pre>
 <hr />  <h3 id="attr_userEntity">userEntity</h3>
  <pre>string var <b>$userEntity</b></pre>
  <pre> the name of the entity within the application this workflow is a part of,
  that represents users. this attribute is required
</pre>
 <hr />  <h3 id="attr_userKey">userKey</h3>
  <pre>string var <b>$userKey</b></pre>
  <pre> when an instance of this workflow is created, the current active user is
  automatically assigned ownership of it. all interractive tasks that are
  then created for the workflow and do not specify alternative assignment
  (using the &quot;user&quot; and/or &quot;role&quot; attribute) will be automatically assigned
  to this workflow owner. this value specifies the name of the value within
  the &quot;user-key-type&quot; context that a reference to the active user object (an
  instance of userEntity). this attribute is required
</pre>
 <hr />  <h3 id="attr_userKeyType">userKeyType</h3>
  <pre>string var <b>$userKeyType</b></pre>
  <pre> where the active user object is stored. this may be any of the following:
   session: within the session scope ($_SESSION)
   global:  within the global scope ($_GLOBALS)
   get:     within the get headers ($_GET)
   post:    within the post headers ($_POST)
  if the value is scalar it will be assumed to be the user identifier as
  specified through userAttr. this attribute is required. the constants
  SRA_WORKFLOW_USER_KEY_TYPE_* represent each of the 4 possible options for
  this attribute
</pre>

  <h2 id="method_details">Method Details</h2>
  <a href="#top" style="float:right">Top</a>
  <h3 id="method_SRA_Workflow">SRA_Workflow</h3>
  <pre>public void function <b>SRA_Workflow</b>(array $conf)</pre>
  <pre> parses the workflow configuration data and sets the appropriate instance
  variables. if there is a problem with the configuration, the instance
  variable &quot;err&quot; will be assigned to an appropriate error object (the error
  will be logged)
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>conf</td>
      <td>array</td>
      <td><pre>the configuration to parse</pre></td>
      <td>None</td>
      <td>No</td>
    </tr>
  </table>
 <hr />  <h3 id="method_isValid">isValid</h3>
  <pre>public boolean function <b>isValid</b>(Object $object)</pre>
  <pre> Static method that returns true if the object parameter is a SRA_Workflow object.
 
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>object</td>
      <td>Object</td>
      <td><pre>$object The object to validate</pre></td>
      <td>None</td>
      <td>Yes</td>
    </tr>
  </table>
  
  <h2>Other Information</h2>
  <table id="other" border="1" width="100%">
  <tr>
    <th>Source File</th>
    <td>/home/jread/www/sierra/lib/workflow/SRA_Workflow.php</td>
  </tr>
  <tr>
    <th>author</th>
    <td>Jason Read &lt;jason@idir.org&gt;</td>
  </tr>
  </table>
  </form>
</body>
</html>