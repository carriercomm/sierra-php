<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>auth.SRA_OsAuthenticator - sierra-php v1.1.3</title>
<script type="text/javascript">
<!--
var _qsAbortNext = false;
var _tipsIdx = 0;
var _tipIds;

function clearQsTips() {
  document.getElementById('quicksearch_tips').innerHTML = '';
}
function hideQsTips() {
  setTimeout("document.getElementById('quicksearch_tips').style.display = 'none'", 100);
}
function showQsTips() {
  document.getElementById('quicksearch_tips').style.display = '';
}
function qsTipsVisible() {
  return document.getElementById('quicksearch_tips').style.display != 'none';
}
function updateQsTips(evt) {
  if (qsTipsVisible() && evt && (evt.keyCode == 40 || evt.keyCode == 38 || evt.keyCode == 13)) {
    switch(evt.keyCode) {
      // up
      case 38:
      // down
      case 40:
        if (_tipsIdx >= 0) document.getElementById(_tipIds[_tipsIdx]).style.backgroundColor = '';
        evt.keyCode == 38 ? _tipsIdx-- : _tipsIdx++;
        if (_tipsIdx > _tipIds.length) _tipsIdx = 0;
        if (_tipsIdx < 0) _tipsIdx = _tipIds.length - 1;
        if (_tipsIdx >= 0) document.getElementById(_tipIds[_tipsIdx]).style.backgroundColor = '#ddd';
        break;
      // enter
      case 13:
        if (_tipsIdx >= 0 && _tipIds[_tipsIdx]) {
          document.location.replace('#' + _tipIds[_tipsIdx].substr(3));
        }
        break;
    }
    return;
  }
  
  _tipsIdx = -1;
  _tipIds = [];
  var str = document.getElementById('quicksearch').value.toLowerCase();
  var matches = {}
  var match = false;
  
  if (str) {


  // check methods
  if ("authenticatedfromcli".indexOf(str) != -1) {
    match = true;
    matches['qs_method_authenticatedFromCli'] = "authenticatedFromCli";
  }
  if ("promptconsole".indexOf(str) != -1) {
    match = true;
    matches['qs_method_promptConsole'] = "promptConsole";
  }
  if ("_authenticate".indexOf(str) != -1) {
    match = true;
    matches['qs_method__authenticate'] = "_authenticate";
  }

  // check classes
  if ("sra_workflow".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_Workflow'] = "SRA_Workflow";
  }
  if ("sra_workflowconstraint".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowConstraint'] = "SRA_WorkflowConstraint";
  }
  if ("sra_workflowconstraintgroup".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowConstraintGroup'] = "SRA_WorkflowConstraintGroup";
  }
  if ("sra_workflowdecision".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowDecision'] = "SRA_WorkflowDecision";
  }
  if ("sra_workflowmanager".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowManager'] = "SRA_WorkflowManager";
  }
  if ("sra_workflowstep".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowStep'] = "SRA_WorkflowStep";
  }
  if ("sra_workflowtask".indexOf(str) != -1) {
    match = true;
    matches['qs_class_SRA_WorkflowTask'] = "SRA_WorkflowTask";
  }


  // check dtds
  if ("workflow.dtd".indexOf(str) != -1) {
    match = true;
    matches['qs_dtd_workflow.dtd'] = "workflow.dtd";
  }

  // check packages
  if ("etc".indexOf(str) != -1) {
    match = true;
    matches['qs_package_etc'] = "etc";
  }
  if ("etc.l10n".indexOf(str) != -1) {
    match = true;
    matches['qs_package_etc.l10n'] = "etc.l10n";
  }
  if ("auth".indexOf(str) != -1) {
    match = true;
    matches['qs_package_auth'] = "auth";
  }
  if ("core".indexOf(str) != -1) {
    match = true;
    matches['qs_package_core'] = "core";
  }
  if ("model".indexOf(str) != -1) {
    match = true;
    matches['qs_package_model'] = "model";
  }
  if ("sql".indexOf(str) != -1) {
    match = true;
    matches['qs_package_sql'] = "sql";
  }
  if ("test".indexOf(str) != -1) {
    match = true;
    matches['qs_package_test'] = "test";
  }
  if ("util".indexOf(str) != -1) {
    match = true;
    matches['qs_package_util'] = "util";
  }
  if ("util.installer".indexOf(str) != -1) {
    match = true;
    matches['qs_package_util.installer'] = "util.installer";
  }
  if ("util.l10n".indexOf(str) != -1) {
    match = true;
    matches['qs_package_util.l10n'] = "util.l10n";
  }
  if ("workflow".indexOf(str) != -1) {
    match = true;
    matches['qs_package_workflow'] = "workflow";
  }


  }
  
  if (match) {
    var html = '';
    for(var i in matches) {
      _tipIds.push(i);
      html += '<div id="' + i + '" style="background-color: white; cursor: pointer;" onclick="document.location.replace(\'#\' + this.id.substr(3))">' + matches[i] + '</div>\n';
    }
    document.getElementById('quicksearch_tips').innerHTML = html;
    showQsTips();
  }
  else {
    hideQsTips();
  }
}
-->
</script></head>
<body id="class" onload="document.getElementById('quicksearch').onkeyup = updateQsTips; document.getElementById('quicksearch').focus()">
  <h1 id="top">class SRA_OsAuthenticator</h1>
<p>&nbsp;&nbsp;&nbsp;&nbsp;package <a href="../packages/auth.html" target="contentFrame">auth</a></p><br /><p>&nbsp;&nbsp;&nbsp;&nbsp;extends <a href="auth.SRA_Authenticator.html" target="contentFrame">SRA_Authenticator</a></p>  <hr />
  <form onsubmit="return false">
  
  <div style="float:right">
    <b><label for="quicksearch">Quick Search:</label></b><br />
    <input id="quicksearch" type="text" onfocus="clearQsTips()" onblur="hideQsTips()" autocomplete="off" onclick="this.select()" /><br />
    <div id="quicksearch_tips" style="border: 1px solid #333; position:absolute; display:none"></div>
  </div>
  
  <pre>class SRA_OsAuthenticator extends <a href="auth.SRA_Authenticator.html" target="contentFrame">SRA_Authenticator</a></pre>
  
  <h2>Class Information</h2>
  <ul>
    <li><a href="#comments">Class Comments</a></li>
    <li><a href="#methods">Methods</a></li>
    <li><a href="#method_details">Method Details</a></li>
    <li><a href="#other">Other</a></li>
  </ul>
  
  <h2 id="comments">Comment</h2>
  <pre> Authenticates a user using expect (http://expect.nist.gov) and the linux &quot;su&quot;
  command. in order to use this authentication method, expect MUST be installed
  (yum install expect expectk). Alternatively, if the PHP script requiring
  authentication is running from the command line, the user invoking that
  script will be assumed and no authentication will be required. when using
  sierra/bin/sra-console.php, an alternate user may be specified using the
  PASSWD_FILE or USERNAME/PASSWORD arguments
  This SRA_Authenticator utilizes the following parameters:
    exclude  =&gt; (optional) space separated list of users that should not be
                authenticated
    groups   =&gt; (optional) space separated list of group names one of which a
                user must belong to in order to be authenticated
    profile  =&gt; (optional) user directory relative, or absolute path to a
                properties file containing user attributes (key/value pairs)
                each of these values will be set in the
                SRA_Authenticator::attrs instance variable. this path may
                contain the key ${user} which will be substituted with the
                user name
    transpose =&gt;(optional) identifies user names that should be transposed.
                the format for this parameter is: [authenticator user]=[os user]
                multiple transpose usernames may be specified each separated
                by a space. direct authentication for transposed users is
                automatically disallowed
  in addition to the authenticator &#039;user&#039; key that is automatically set by
  SRA_Authenticator and the keys set through the &#039;profile&#039; parameter above,
  this authenticator will also automatically set the following keys:
    uid:      : the user&#039;s os uid
    gid:      : the user&#039;s primary group gid
    groups    : array of groups that the user is a member of
    home      : absolute path to the user&#039;s home directory
    transposed: if the username was transposed, this value will be the
                transposed username (&#039;user&#039; will be the non-transposed user)
</pre>
  
  

  <h2 id="methods">Class Methods</h2>
  <table border="1" width="100%">
    <tr>
      <td><pre>public static boolean</pre></td>
      <td>
        <pre><a href="#method_authenticatedFromCli">authenticatedFromCli</a>()</pre>
<pre> returns TRUE if the PHP script is running from the command line, this
  authenticator was invoked, and the command line user was used for the
  authentication instead of prompting the user for login credentials
</pre>      </td>
    </tr>
    <tr>
      <td><pre>public boolean</pre></td>
      <td>
        <pre><a href="#method_promptConsole">promptConsole</a>()</pre>
<pre> when running from the console, no login credentials are required
</pre>      </td>
    </tr>
    <tr>
      <td><pre>void or ERROR</pre></td>
      <td>
        <pre><a href="#method__authenticate">_authenticate</a>(string $user, string $pswd, array $params=NULL)</pre>
<pre> Authenticates user against operating system based on the user/password and
  parameters specified
</pre>      </td>
    </tr>
  </table>



  <h2 id="method_details">Method Details</h2>
  <a href="#top" style="float:right">Top</a>
  <h3 id="method_authenticatedFromCli">authenticatedFromCli</h3>
  <pre>public static boolean function <b>authenticatedFromCli</b>()</pre>
  <pre> returns TRUE if the PHP script is running from the command line, this
  authenticator was invoked, and the command line user was used for the
  authentication instead of prompting the user for login credentials
</pre>
 <hr />  <h3 id="method_promptConsole">promptConsole</h3>
  <pre>public boolean function <b>promptConsole</b>()</pre>
  <pre> when running from the console, no login credentials are required
</pre>
 <hr />  <h3 id="method__authenticate">_authenticate</h3>
  <pre>void or ERROR function <b>_authenticate</b>(string $user, string $pswd, array $params=NULL)</pre>
  <pre> Authenticates user against operating system based on the user/password and
  parameters specified
</pre>
  <h2>Method Parameters</h2>
  <table border="1" width="100%">
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Comment</th>
      <th>Default Value</th>
      <th>By Reference?</th>
    </tr>
    <tr>
      <td>user</td>
      <td>string</td>
      <td><pre>the username to authenticate</pre></td>
      <td>None</td>
      <td>No</td>
    </tr>
    <tr>
      <td>pswd</td>
      <td>string</td>
      <td><pre>the password to authenticate</pre></td>
      <td>None</td>
      <td>No</td>
    </tr>
    <tr>
      <td>params</td>
      <td>array</td>
      <td><pre>used for invoking this method statically</pre></td>
      <td>NULL</td>
      <td>No</td>
    </tr>
  </table>
  
  <h2>Other Information</h2>
  <table id="other" border="1" width="100%">
  <tr>
    <th>Source File</th>
    <td>/home/jread/www/sierra/lib/auth/SRA_OsAuthenticator.php</td>
  </tr>
  <tr>
    <th>author</th>
    <td>Jason Read &lt;jason@idir.org&gt;</td>
  </tr>
  </table>
  </form>
</body>
</html>